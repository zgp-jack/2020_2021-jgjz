(wx.webpackJsonp=wx.webpackJsonp||[]).push([[34],{"128":function(n,e,t){n.exports=t.p+"pages/addTeamMember/index.wxml"},"221":function(n,e,t){"use strict";t.r(e);t(222);var o=t(74);for(var a in o)"default"!==a&&function(n){t.d(e,n,(function(){return o[n]}))}(a)},"222":function(n,e,t){"use strict";t(128)},"225":function(n,e,t){},"27":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{"value":!0});var o,a,_slicedToArray=function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function sliceIterator(n,e){var t=[],o=!0,a=!1,r=void 0;try{for(var i,u=n[Symbol.iterator]();!(o=(i=u.next()).done)&&(t.push(i.value),!e||t.length!==e);o=!0);}catch(n){a=!0,r=n}finally{try{!o&&u.return&&u.return()}finally{if(a)throw r}}return t}(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function defineProperties(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(n,e,t){return e&&defineProperties(n.prototype,e),t&&defineProperties(n,t),n}}(),i=t(0),u=_interopRequireDefault(i),l=_interopRequireDefault(t(129)),s=t(8),c=t(64),d=t(2),p=t(4),f=t(130),m=_interopRequireDefault(t(1));function _interopRequireDefault(n){return n&&n.__esModule?n:{"default":n}}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}t(225);var g=(a=o=function(n){function AddTeamMember(){var n,e,t;_classCallCheck(this,AddTeamMember);for(var o=arguments.length,a=Array(o),r=0;r<o;r++)a[r]=arguments[r];return e=t=_possibleConstructorReturn(this,(n=AddTeamMember.__proto__||Object.getPrototypeOf(AddTeamMember)).call.apply(n,[this].concat(a))),t.config={"navigationBarTitleText":"添加班组成员"},t.$usedState=["loopArray47","loopArray48","$compid__54","$compid__55","data","type","letter"],t.anonymousFunc2Map={},t.anonymousFunc3Map={},t.anonymousFunc5Map={},t.customComponents=["AtSearchBar","AddMember"],_possibleConstructorReturn(t,e)}return function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{"constructor":{"value":n,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}(AddTeamMember,n),r(AddTeamMember,[{"key":"_constructor","value":function _constructor(n){(function get(n,e,t){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,e);if(void 0===o){var a=Object.getPrototypeOf(n);return null===a?void 0:get(a,e,t)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(t):void 0})(AddTeamMember.prototype.__proto__||Object.getPrototypeOf(AddTeamMember.prototype),"_constructor",this).call(this,n),this.$$refs=new u.default.RefsArray}},{"key":"_createData","value":function _createData(){var n=this;this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};var e=this.$prefix,t=(0,i.genCompid)(e+"$compid__54"),o=_slicedToArray(t,2),a=o[0],r=o[1],g=(0,i.genCompid)(e+"$compid__55"),y=_slicedToArray(g,2),h=y[0],v=y[1],_=(0,s.useDispatch)(),b=(0,s.useSelector)((function(n){return n})),$=(0,i.useRouter)(),F=$.params,S=F.groupInfo,O=F.type,k=(0,l.default)(),M=k.handleInput,A=k.handleEstablish,x=k.addMemberDisplay,w=k.setAddMemberDisplay,T=(k.workerList,k.setWorkerList,k.storagelist,k.setStoragelist,(0,i.useState)([])),C=_slicedToArray(T,2),J=C[0],N=C[1],P=(0,i.useState)([]),j=_slicedToArray(P,2),L=j[0],R=j[1],D=(0,i.useState)([]),I=_slicedToArray(D,2),B=I[0],E=I[1],z=(0,i.useState)(""),W=_slicedToArray(z,2),q=W[0],K=W[1],G=function handleAddMemberClose(){w(!1)};(0,i.useEffect)((function(){var n=void 0;if(n=1===u.default.getStorageSync(p.Type)?"添加班组成员":"添加班组长",u.default.setNavigationBarTitle({"title":n}),console.log(b,"useSelectorItem.mailList"),b.mailList&&b.phoneList){var e=JSON.parse(JSON.stringify(b.mailList)),t=JSON.parse(JSON.stringify(b.phoneList));console.log(e,"itemsdadsdsadsadas"),console.log(t,"arrrrrrrr");var o=void 0;e.length>0&&(o=e.map((function(n){if(n.list)return n.list.map((function(n){return t.length>0&&t.map((function(e){return n.id==e.id&&(console.log(n,"valsdad"),n.click=!0),e})),n})),n}))),console.log(o,"timesdd sakd kasbdjkasb"),R(e),N(e)}}),[b.mailList,b.phoneList]);var Q=[{"id":1,"name":"A"},{"id":2,"name":"B"},{"id":3,"name":"C"},{"id":4,"name":"D"},{"id":5,"name":"E"},{"id":6,"name":"F"},{"id":8,"name":"G"},{"id":9,"name":"H"},{"id":10,"name":"I"},{"id":11,"name":"J"},{"id":12,"name":"K"},{"id":13,"name":"L"},{"id":14,"name":"M"},{"id":15,"name":"N"},{"id":16,"name":"O"},{"id":17,"name":"P"},{"id":18,"name":"Q"},{"id":19,"name":"R"},{"id":20,"name":"S"},{"id":21,"name":"T"},{"id":22,"name":"U"},{"id":23,"name":"V"},{"id":24,"name":"W"},{"id":25,"name":"X"},{"id":26,"name":"Y"},{"id":27,"name":"Z"}],V=function onActionClick(){var n=JSON.parse(JSON.stringify(q));console.log(n);var e=JSON.parse(JSON.stringify(J)),t=JSON.parse(JSON.stringify(L)),o=[{"list":[]}];if(""==q)o=t;else for(var a=0;a<e.length;a++)if(e[a].list.length>0)for(var r=0;r<e[a].list.length;r++){var i,u=[];(-1!==e[a].list[r].name.indexOf(n)||e[a].list[r].tel&&-1!==e[a].list[r].tel.indexOf(n))&&(console.log(e[a].list[r],"231231"),u.push(e[a].list[r])),console.log(u,"xxx"),(i=o[0].list).push.apply(i,u)}console.log(o,"arrrr"),N(o)},H=function handleLetter(n){console.log(n,"v"),console.log("#"+n.name);var e=u.default.createSelectorQuery();e.select("#"+n.name).boundingClientRect(),e.selectViewport().scrollOffset(),e.exec((function(n){var e=750/u.default.getSystemInfoSync().windowWidth;console.log(e,"ata"),console.log(n,"res111"),u.default.pageScrollTo({"scrollTop":n[0].top*e,"duration":300})}))},U=function handleForeman(n,e){if(console.log(n,e,"dsadasda"),"2"!==O){var t=JSON.parse(JSON.stringify(B)),o=JSON.parse(JSON.stringify(J));0===t.length||-1===t.indexOf(e.id)?t.push(e):t.splice(t.indexOf(e.id),1);for(var a=0;a<o.length;a++)if(o[a].name_py===n)for(var r=0;r<o[a].list.length;r++)e.id===o[a].list[r].id&&(o[a].list[r].click=!o[a].list[r].click);E(t),N(o)}else{var i={"group_info":S,"group_leader":e.id};(0,d.bkSetGroupLeaderAction)(i).then((function(n){console.log(n,"xxx")})),console.log(e,"eeee"),_((0,c.setWorker)([e])),u.default.navigateBack({"delta":1})}},X=function handleStart(){for(var n=JSON.parse(JSON.stringify(J)),e=[],t=0;t<n.length;t++)for(var o=0;o<n[t].list.length;o++)n[t].list[o].click&&e.push(n[t].list[o]);var a={"worker_id":e.map((function(n){return n.id})),"group_info":S};(0,d.bkAddWorkerInGroupAction)(a).then((function(n){200===n.code&&(console.log(e,"arrrr"),_((0,f.setPhoneList)(e)),_((0,c.setWorker)(e)),u.default.navigateBack({"delta":1}))}))};console.log(J,"data"),this.anonymousFunc0=function(n){return K(n)},this.anonymousFunc1=function(){return V()},this.anonymousFunc4=function(){return w(!0)},this.anonymousFunc6=X;var Y=J&&J.length>0?J.map((function(e,t){return e={"$original":(0,i.internal_get_original)(e)},{"$loopState__temp2":J&&J.length>0?t+t:null,"$anonymousCallee__11":J&&J.length>0?e.$original.list.map((function(o,a){o={"$original":(0,i.internal_get_original)(o)};var r="badzz"+t+"-"+a;n.anonymousFunc2Map[r]=function(){return U(e.$original.name_py,o.$original)};var u="baezz"+t+"-"+a;return n.anonymousFunc3Map[u]=function(){return U(e.$original.name_py,o.$original)},{"_$indexKey":r,"_$indexKey2":u,"$loopState__temp4":J&&J.length>0?(0,m.default)({"image":o.$original.id%2==1&&o.$original.id>100,"image-red":o.$original.id%2==0&&o.$original.id>100,"image-origion":o.$original.id%2==1&&o.$original.id<100,"image-violet":o.$original.id%2==0&&o.$original.id<100}):null,"$loopState__temp6":J&&J.length>0?o.$original.name.substring(o.$original.name.length-2):null,"$original":o.$original}})):[],"$original":e.$original}})):[],Z=Q.map((function(e,t){e={"$original":(0,i.internal_get_original)(e)};var o="bafzz"+t;return n.anonymousFunc5Map[o]=function(){return H(e.$original)},{"_$indexKey3":o,"$original":e.$original}}));return i.propsManager.set({"placeholder":"请输入名字或手机号码查询","showActionButton":!0,"value":q,"onChange":this.anonymousFunc0,"onActionClick":this.anonymousFunc1},r,a),i.propsManager.set({"display":x,"handleClose":G,"handleEstablish":A,"handleInput":M,"groupInfo":S},v,h),Object.assign(this.__state,{"loopArray47":Y,"loopArray48":Z,"$compid__54":r,"$compid__55":v,"data":J,"type":O,"letter":Q}),this.__state}},{"key":"anonymousFunc0","value":function anonymousFunc0(n){}},{"key":"anonymousFunc1","value":function anonymousFunc1(n){}},{"key":"anonymousFunc2","value":function anonymousFunc2(n){for(var e,t=arguments.length,o=Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];return this.anonymousFunc2Map[n]&&(e=this.anonymousFunc2Map)[n].apply(e,o)}},{"key":"anonymousFunc3","value":function anonymousFunc3(n){for(var e,t=arguments.length,o=Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];return this.anonymousFunc3Map[n]&&(e=this.anonymousFunc3Map)[n].apply(e,o)}},{"key":"anonymousFunc4","value":function anonymousFunc4(n){}},{"key":"anonymousFunc5","value":function anonymousFunc5(n){for(var e,t=arguments.length,o=Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];return this.anonymousFunc5Map[n]&&(e=this.anonymousFunc5Map)[n].apply(e,o)}},{"key":"anonymousFunc6","value":function anonymousFunc6(n){}}]),AddTeamMember}(u.default.Component),o.$$events=["anonymousFunc2","anonymousFunc3","anonymousFunc4","anonymousFunc5","anonymousFunc6"],o.$$componentPath="pages/addTeamMember/index",a);g.config={"navigationBarTitleText":"添加班组成员"},e.default=g,Component(t(0).default.createComponent(g,!0))},"74":function(n,e,t){"use strict";t.r(e);var o=t(27),a=t.n(o);for(var r in o)"default"!==r&&function(n){t.d(e,n,(function(){return o[n]}))}(r);e.default=a.a}},[[221,0,1,2,3]]]);