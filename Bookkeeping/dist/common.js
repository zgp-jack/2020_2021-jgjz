(wx.webpackJsonp=wx.webpackJsonp||[]).push([[3],{"111":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});t.GETWORKERTYPE="getWorker",t.SETWORKERTYPE="setWorker"},"112":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});t.SETCLICKTIME="SETCLICKTIME",t.GETCLICKTIME="GETCLICKTIME"},"113":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});t.GETMAIILIST="getmailList",t.SETMAIILIST="setmailList"},"114":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});t.GETTYPE="getType",t.SETTYPE="setType"},"115":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});t.GETUSERLSIT="getuserlist",t.SETUSERLIST="setuserlist"},"116":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});t.GETPHONELIST="getPhoneList",t.SETPHINELIST="setPhoneList"},"118":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.setClickTIme=function setClickTIme(e){return{"type":a.SETCLICKTIME,"data":e}},t.getClickTIme=function getClickTIme(){return{"type":a.GETCLICKTIME}};var a=n(112)},"121":function(e,t,n){e.exports=n.p+"pages/notepad/index.wxml"},"126":function(e,t,n){e.exports=n.p+"pages/flowingWater/index.wxml"},"129":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],a=!0,o=!1,r=void 0;try{for(var i,u=e[Symbol.iterator]();!(a=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function userForeman(){var e=(0,d.useSelector)((function(e){return e})),t=(0,d.useDispatch)(),n=(0,o.useState)(1),g=_slicedToArray(n,2),y=g[0],k=g[1],h=(0,o.useState)([{"id":1,"name":"一个工","click":!1,"num":1,"whole":!0},{"id":2,"name":"半个工","click":!1,"num":.5,"whole":!0},{"id":3,"name":"休息","click":!1,"num":0},{"id":4,"name":"0.0小时","click":!1,"num":0}]),S=_slicedToArray(h,2),v=S[0],b=S[1],w=(0,o.useState)([{"id":1,"name":"无加班","click":!1,"num":0},{"id":2,"name":"0.0小时","click":!1,"num":0}]),_=_slicedToArray(w,2),A=_[0],O=_[1],T=(0,o.useState)([{"id":1,"name":"平方米","click":!0},{"id":2,"name":"立方米","click":!1},{"id":3,"name":"吨","click":!1},{"id":4,"name":"米","click":!1},{"id":5,"name":"个","click":!1},{"id":6,"name":"次","click":!1},{"id":7,"name":"天","click":!1},{"id":8,"name":"块","click":!1},{"id":9,"name":"组","click":!1},{"id":10,"name":"台","click":!1},{"id":11,"name":"捆","click":!1},{"id":12,"name":"宗","click":!1},{"id":13,"name":"项","click":!1},{"id":14,"name":"株","click":!1}]),N=_slicedToArray(T,2),U=N[0],D=N[1],M=(0,o.useState)({"item":[{"id":3,"name":"工资","click":!1},{"id":4,"name":"生活费","click":!1},{"id":5,"name":"补贴","click":!1},{"id":6,"name":"奖励","click":!1},{"id":7,"name":"其他","click":!1}]}),R=_slicedToArray(M,2),W=R[0],E=R[1],P=(0,o.useState)({"groupName":"","teamName":"","name":"","time":"","details":"","duration":"","amount":"","price":"","wages":"","borrowing":"","univalent":"","userName":"","phone":"","workersWages":"0"}),J=_slicedToArray(P,2),L=J[0],F=J[1],C=(0,o.useState)({"data":[{"id":1,"name":"按小时计算","click":!0},{"id":2,"name":"按天算","click":!1}],"work":0,"money":0,"addWork":0,"type":1,"day":0,"dayAddWork":0,"state":"","group_info":"","id":"","worker_id":""}),I=_slicedToArray(C,2),x=I[0],j=I[1],G=(0,o.useState)(!1),$=_slicedToArray(G,2),q=$[0],B=$[1],Q=(0,o.useState)(1),z=_slicedToArray(Q,2),Y=z[0],K=z[1],H=(0,o.useState)(0),V=_slicedToArray(H,2),Z=V[0],X=V[1],ee=(0,o.useState)([]),te=_slicedToArray(ee,2),ne=te[0],ae=te[1],oe=(0,o.useState)(""),re=_slicedToArray(oe,2),ie=re[0],ue=re[1],de=(0,o.useState)([]),ce=_slicedToArray(de,2),le=ce[0],se=ce[1],fe=(0,o.useState)(!1),me=_slicedToArray(fe,2),pe=me[0],ge=me[1],ye=(0,o.useState)(!1),ke=_slicedToArray(ye,2),he=ke[0],Se=ke[1],ve=(0,o.useState)(0),be=_slicedToArray(ve,2),we=be[0],_e=be[1],Ae=(0,o.useState)(!1),Oe=_slicedToArray(Ae,2),Te=Oe[0],Ne=Oe[1],Ue=(0,o.useState)("平方米"),De=_slicedToArray(Ue,2),Me=De[0],Re=De[1],We=(0,o.useState)(!1),Ee=_slicedToArray(We,2),Pe=Ee[0],Je=Ee[1],Le=(0,o.useState)(!1),Fe=_slicedToArray(Le,2),Ce=Fe[0],Ie=Fe[1],xe=(0,o.useState)({"name":"","id":0,"click":!1}),je=_slicedToArray(xe,2),Ge=je[0],$e=je[1],qe=(0,o.useState)(0),Be=_slicedToArray(qe,2),Qe=Be[0],ze=Be[1],Ye=(0,o.useState)({"item":[]}),Ke=_slicedToArray(Ye,2),He=Ke[0],Ve=Ke[1],Ze=(0,o.useState)({"item":[{"id":0,"name":"按天记工","click":!0},{"id":1,"name":"按量计算","click":!1}]}),Xe=_slicedToArray(Ze,2),et=Xe[0],tt=Xe[1],nt=(0,o.useState)(!1),at=_slicedToArray(nt,2),ot=at[0],rt=at[1],it=(0,o.useState)({"item":[{"id":1,"name":"点工","click":!0},{"id":2,"name":"包工 ","click":!1},{"id":3,"name":"借支","click":!1}]}),ut=_slicedToArray(it,2),dt=ut[0],ct=ut[1],lt=(0,o.useState)(!1),st=_slicedToArray(lt,2),ft=st[0],mt=st[1],pt=(0,o.useState)(!1),gt=_slicedToArray(pt,2),yt=gt[0],kt=gt[1],ht=(0,o.useState)(!1),St=_slicedToArray(ht,2),vt=St[0],bt=St[1],wt=(0,o.useState)(!1),_t=_slicedToArray(wt,2),At=_t[0],Ot=_t[1],Tt=(0,o.useState)([]),Nt=_slicedToArray(Tt,2),Ut=Nt[0],Dt=Nt[1],Mt=(0,o.useState)(""),Rt=_slicedToArray(Mt,2),Wt=(Rt[0],Rt[1]),Et=(0,o.useState)(0),Pt=_slicedToArray(Et,2),Jt=Pt[0],Lt=Pt[1],Ft=(0,o.useState)([]),Ct=_slicedToArray(Ft,2),It=Ct[0],xt=Ct[1],jt=(0,o.useState)(),Gt=_slicedToArray(jt,2),$t=Gt[0],qt=Gt[1],Bt=(0,o.useState)([]),Qt=_slicedToArray(Bt,2),zt=Qt[0],Yt=Qt[1],Kt=(0,o.useState)([]),Ht=_slicedToArray(Kt,2),Vt=Ht[0],Zt=Ht[1],Xt=(0,o.useState)([]),en=_slicedToArray(Xt,2),tn=en[0],nn=en[1],an=(0,o.useState)(0),on=_slicedToArray(an,2),rn=on[0],un=on[1],dn=(0,o.useState)(0),cn=_slicedToArray(dn,2),ln=cn[0],sn=cn[1],fn=(0,o.useState)({"group_info":"","team_name":"","group_name":""}),mn=_slicedToArray(fn,2),pn=mn[0],gn=mn[1],yn=(0,o.useState)(""),kn=_slicedToArray(yn,2),hn=kn[0],Sn=kn[1],vn=(0,o.useState)([]),bn=_slicedToArray(vn,2),wn=bn[0],_n=bn[1],An=(0,o.useState)(""),On=_slicedToArray(An,2),Tn=On[0],Nn=On[1],Un=(0,o.useState)(0),Dn=_slicedToArray(Un,2),Mn=Dn[0],Rn=Dn[1],Wn=(0,o.useState)([]),En=_slicedToArray(Wn,2),Pn=En[0],Jn=En[1],Ln=(0,o.useState)(0),Fn=_slicedToArray(Ln,2),Cn=Fn[0],In=Fn[1],xn=(0,o.useState)(!1),jn=_slicedToArray(xn,2),Gn=jn[0],$n=jn[1],qn=(0,o.useState)(),Bn=_slicedToArray(qn,2),Qn=(Bn[0],Bn[1]),zn=(0,o.useState)(),Yn=_slicedToArray(zn,2),Kn=(Yn[0],Yn[1]),Hn=(0,o.useState)(!1),Vn=_slicedToArray(Hn,2),Zn=Vn[0],Xn=Vn[1],ea=(0,o.useState)([]),ta=_slicedToArray(ea,2),na=ta[0],aa=ta[1],oa=(0,o.useState)([]),ra=_slicedToArray(oa,2),ia=ra[0],ua=ra[1],da=(0,o.useState)([]),ca=_slicedToArray(da,2),la=ca[0],sa=(ca[1],(0,o.useState)([])),fa=_slicedToArray(sa,2),ma=fa[0],pa=fa[1],ga=[46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,41696,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,41680,53584,62034,54560],ya=["正","二","三","四","五","六","七","八","九","十","冬","腊"],ka=["一","二","三","四","五","六","七","八","九","十","初","廿"],ha=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],Sa=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],va=(0,o.useState)({"year":"","monent":""}),ba=_slicedToArray(va,2),wa=ba[0],_a=ba[1],Aa=(0,o.useState)([]),Oa=_slicedToArray(Aa,2),Ta=Oa[0],Na=Oa[1],Ua=(0,o.useState)(!1),Da=_slicedToArray(Ua,2),Ma=Da[0],Ra=Da[1];(0,o.useEffect)((function(){var t=r.default.getStorageSync(u.Type);k(t);var n=r.default.getStorageSync(u.MidData),a=JSON.parse(JSON.stringify(Ge));if(a.name=n.nickname||"未命名",a.id=n.worker_id,$e(a),!e.workerList.length&&!Gn){var o=JSON.parse(JSON.stringify(le));o.push(a),se(o),Fa(),Ia(),Ea(new Date),e.clickTIme.length>0&&Na(e.clickTIme)}if(console.log(e.workerList,"useSelectorItem.workerList"),e.workerList.length>0){if(2===y)return ae(e.workerList),console.log(e.workerList[0],"useSelectorItem.workerList1111"),void(e.workerList[0].leader_name?ue(e.workerList[0].leader_name):ue(e.workerList[0].name));var i=JSON.parse(JSON.stringify(Ge)),d=JSON.parse(JSON.stringify(tn)),c=JSON.parse(JSON.stringify(e.workerList));if(d.length>0)for(var l=0;l<d.length;l++)for(var s=0;s<c.length;s++)c[s].click=!1,d[l].worker_id===c[s].id&&(c[s].set=!0);else for(var f=0;f<c.length;f++)c[f].click=!1;for(var m=0;m<c.length;m++)c[m].id===i.id&&(i=c[m],c.splice(m,1));se([i].concat(_toConsumableArray(c)))}}),[e.workerList]);var Wa=function addZero(e){return parseInt(e)<10&&(e="0"+e),e},Ea=function getMonthDaysCurrent(t){JSON.parse(JSON.stringify(ia));var n=void 0;e.clickTIme.length>0&&(n=e.clickTIme);var a=t.getFullYear(),o=t.getMonth()+1,i=t.getDate(),d=(t.getDay(),new Date(a,o,0).getDate()),c=new Date(a,o-1,1).getDay(),l=new Date(a,o-1,d).getDay();_a({"year":a,"monent":o});for(var s=[],f=c-1;f>=0;f--){var m=new Date(a,o-1,-f),p=Pa(m.getFullYear(),m.getMonth()+1,m.getDate());s.push({"year":m.getFullYear(),"month":m.getMonth()+1,"date":m.getDate(),"day":m.getDay(),"lunarCalendarItem":p.lunarDay,"current":!1,"selected":!1,"up":!0})}r.default.getStorageSync(u.Calendar);for(var g=1;g<=d;g++){var y=Pa(a,o,g),k=(new Date).getFullYear(),h=(new Date).getMonth()+1,S=(new Date).getDate();s.push({"year":a,"month":o,"date":g,"day":new Date(a,o-1,g).getDay(),"current":!0,"lunarCalendarItem":y.lunarDay,"selected":g==i,"stop":k<=a&&(h==o&&S<g||h<o)})}for(var v=1;v<7-l;v++){var b=new Date(a,o,v),w=Pa(b.getFullYear(),b.getMonth()+1,b.getDate());s.push({"year":b.getFullYear(),"month":b.getMonth()+1,"date":b.getDate(),"day":b.getDay(),"lunarCalendarItem":w.lunarDay,"current":!1,"selected":!1,"next":!0})}if(n&&n.length>0)for(var _=0;_<s.length;_++)for(var A=0;A<n[0].length;A++)s[_].year==n[0][A].year&&s[_].month==n[0][A].month&&s[_].day==n[0][A].day&&s[_].lunarCalendarItem==n[0][A].lunarCalendarItem&&(s[_].click=!0);aa(s)},Pa=function sloarToLunar(e,t,n){t-=1;for(var a=(Date.UTC(e,t,n)-Date.UTC(1949,0,29))/864e5+1,o=void 0,r=void 0,i=void 0,u=0;u<ga.length;u++)if((a-=lunarYearDays(ga[u]))<=0){o=1949+u,a+=lunarYearDays(ga[u]);break}for(var d=0;d<lunarYearMonths(ga[o-1949]).length;d++)if((a-=lunarYearMonths(ga[o-1949])[d])<=0){r=hasLeapMonth(ga[o-1949])&&hasLeapMonth(ga[o-1949])<=d?hasLeapMonth(ga[o-1949])<d?d:hasLeapMonth(ga[o-1949])===d?"闰"+d:d+1:d+1,a+=lunarYearMonths(ga[o-1949])[d];break}return i=a,r=hasLeapMonth(ga[o-1949])&&"string"==typeof r&&r.indexOf("闰")>-1?"闰"+ya[parseInt(r)-1]:ya[r-1],o=Ja(o)+function getDiZhi(e){var t=(e-3)%12;0===t&&(t=12);return Sa[t-1]}(o),i<11?i=""+ka[10]+ka[i-1]:i>10&&i<20?i=""+ka[9]+ka[i-11]:20===i?i=""+ka[1]+ka[9]:i>20&&i<30?i=""+ka[11]+ka[i-21]:30===i&&(i=""+ka[2]+ka[9]),{"lunarYear":o,"lunarMonth":r,"lunarDay":i}};function lunarYearDays(e){for(var t=0,n=32768;n>8;n>>=1){t+=e&n?30:29}return hasLeapMonth(e)&&(t+=La(e)),t}function lunarYearMonths(e){for(var t=[],n=32768;n>8;n>>=1)t.push(e&n?30:29);return hasLeapMonth(e)&&t.splice(hasLeapMonth(e),0,La(e)),t}function hasLeapMonth(e){return!!(15&e)&&15&e}var Ja=function getTianGan(e){var t=(e-3)%10;return 0===t&&(t=10),ha[t-1]};var La=function leapMonthDays(e){return hasLeapMonth(e)?983040&e?30:29:0},Fa=function bkGetProjectTeam(e){(0,i.bkGetProjectTeamAction)({}).then((function(n){if(200===n.code){var o=JSON.parse(JSON.stringify(L)),i=r.default.getStorageSync(u.Type);if(2===i)if(console.log(312321321),console.log(L.groupName,"model.groupNamemodel.groupName"),L.groupName){if(console.log("dasdasdasd"),n.data&&n.data.length>0)for(var d=0;d<n.data.length;d++)console.log(n.data[d],"groupNamegroupName"),console.log(e,"groupName"),e===n.data[d].group_name+"-"+n.data[d].name&&(n.data[d].click=!0,F(a({},o,{"name":n.data[d].group_name+"-"+n.data[d].name})),ue(""));else F(a({},o,{"name":"","groupName":"","teamName":""})),ue("");Dt(n.data)}else{var l=void 0;if(n.data&&n.data.length>0)for(var s=0;s<n.data.length;s++)n.data[0].click=!0,l=n.data[0].group_id+","+n.data[0].id,n.data[0].leader_name?(ue(n.data[0].leader_name),console.log(n.data[0],"data[0]"),t((0,c.setWorker)([n.data[0]]))):ue("");Nn(l);var f="";n.data.length>0&&(f=n.data[0].group_name?n.data[0].group_name+"-"+n.data[0].name:"");var m=o.duration,p=o.time;if(2===i){var g=JSON.parse(JSON.stringify(v));m="一个工无加班",g[0].click=!0,b(g);(new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()}F(a({},o,{"name":f,"duration":m,"time":p})),console.log(n.data,"res.datam amsdKn dsknad ksa "),Dt(n.data)}else{var y=JSON.parse(JSON.stringify(v));y[0].click=!0,b(y);(new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate();F(a({},o,{"duration":"一个工无加班"})),b(y),Dt(n.data)}}}))},Ca=function bkGetWorkerWage(e,t){var n=void 0;n=e?{"group_info":e}:{"group_info":Tn},(0,i.bkGetWorkerWageAction)(n).then((function(e){if(200===e.code){if(nn(e.data),1===y){JSON.parse(JSON.stringify(le));if(t){for(var n=0;n<t.length;n++)for(var a=0;a<e.data.length;a++)e.data[a].worker_id===t[n].id&&(t[n].set=!0);return void se(t)}}}else(0,m.default)(e.msg)}))},Ia=function bkWageStandGetWage(){(0,i.bkWageStandGetWageAction)({}).then((function(e){if(200===e.code){for(var t=0;t<e.data.length;t++)0===t?(e.data[t].click=!0,Sn(e.data[t].id)):e.data[t].click=!1;Zt(e.data)}}))},xa=function bkGetWorker(e,n,a){var o=void 0;o=e?{"group_info":e}:{},(0,i.bkGetWorkerAction)(o).then((function(o){if(200===o.code){for(var r=JSON.parse(JSON.stringify(le)),i=[],u=0;u<o.data.length;u++)if(o.data[u].list)for(var d=0;d<o.data[u].list.length;d++)i.push(o.data[u].list[d]);if(n)if(1===n){if(a)for(var c=0;c<o.data.length;c++)r.name_py===o.data[c].name_py&&o.data[c].list.push(r);t((0,l.setmailList)(o.data))}else{for(var p=0;p<i.length;p++)i[p].id==Ge.id&&i.splice(p,1);t((0,f.setPhoneList)([Ge].concat(i))),Ca(e,[Ge].concat(i))}t((0,s.setUserList)(o.data)),qt(o.data),e||t((0,l.setmailList)(o.data));for(var g=[],y=0;y<o.data.length;y++)for(var k=0;k<o.data[y].list.length;k++)g.push(o.data[y].list[k]);t((0,s.setUserList)(o.data)),qt(o.data)}else(0,m.default)(o.msg)}))},ja=function handleOpenWagesModal(e){if(JSON.parse(JSON.stringify(L)).name){if(3!==Y&&(2!=Y||1!=Qe)){bt(!0);for(var t=JSON.parse(JSON.stringify(le)),n=[],a=[],o=0;o<t.length;o++)t[o].click=!1,e&&t[o].id==e.id&&(t[o].click=!0),t[o].set?n.push(t[o]):a.push(t[o]);e&&In(1),_n([].concat(a,n)),Ca()}}else(0,m.default)("请选择项目")},Ga=function handleRecordTime(e){var t=new Date,n=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),a=new Date(n).valueOf();r.default.setStorageSync(u.RecordTime,a);var o=r.default.getStorageSync(u.User);if(o.length>0){var i=o.concat(e).filter((function(e,t,n){return n.indexOf(e)===n.lastIndexOf(e)}));r.default.setStorageSync(u.User,i)}else r.default.setStorageSync(u.User,e)};return{"model":L,"project":Te,"setModel":F,"setProject":Ne,"handleInput":function handleInput(e,t){var n=JSON.parse(JSON.stringify(L));if("details"===e&&X(t.detail.value.length),"amount"==e||"price"==e||"wages"==e||"borrowing"==e)return/^(\d?)+(\.\d{0,2})?$/.test(t.detail.value)||(0,m.default)("请输入两位小数或整数"),n[e]=t.detail.value,void F(n);n[e]=t.detail.value,F(n)},"handleAddProject":function handleAddProject(){var e={"group_name":L.groupName,"team_name":L.teamName};(0,i.bkAddProjectTeamAction)(e).then((function(e){if(200===e.code){Wt(e.data);var t=L.groupName+"-"+L.teamName;Fa(t),Ne(!1);var n=JSON.parse(JSON.stringify(L));n.name=L.groupName,Nn(e.data),F(a({},n,{"groupName":"","teamName":""}))}else(0,m.default)(e.msg)}))},"workOvertimeDisplay":pe,"handleworkOvertime":function handleworkOvertime(e,t){var n=JSON.parse(JSON.stringify(L));if(_e(e),1===e){var o=void 0;4===t.id?(o=v.map((function(e){return e.id===t.id?e.click=!e.click:e.click=!1,e})),b(o),ge(!1),Se(!0)):(o=v.map((function(e){return e.id===t.id?e.click=!e.click:(4===e.id&&(e.name="0.0小时"),e.click=!1),e})),b(o));for(var r=void 0,i=0;i<A.length;i++)r=A[i].click&&1!==A[i].id?"加班"+A[i].name:"无加班";var u=void 0;u=3==t.id?t.name+r:"上班"+t.name+r,4!=t.id&&F(a({},n,{"duration":u}))}else{var d=void 0;if(2==t.id)return d=A.map((function(e){return e.id===t.id?e.click=!e.click:e.click=!1,e})),O(d),ge(!1),void Se(!0);d=A.map((function(e){return e.id===t.id?e.click=!e.click:(2===e.id&&(e.name="0.0小时"),e.click=!1),e})),O(d);var c=void 0;console.log(v,"timeArr");for(var l=0;l<v.length;l++){if(v[l].click){console.log(v[l].id),c=3==v[l].id?"休息":"上班"+v[l].name;break}c="休息"}console.log(c,"Time");var s=void 0;s=1==t.id?c+"无加班":"上班"+c+t.name,2!=t.id&&F(a({},n,{"duration":s}))}},"setWorkOvertimeDisplay":ge,"workingHoursDisplay":he,"setWorkingHoursDisplay":Se,"timeType":we,"handleWorkingHours":function handleWorkingHours(e,t){var n=JSON.parse(JSON.stringify(L));if(1===e){var o=v.map((function(e){return 4===e.id&&(e.name=t.name,e.click=!0,e.num=t.num),e}));b(o);for(var r=void 0,i=0;i<A.length;i++)r=A[i].click&&1!==A[i].id?"加班"+A[i].name:"无加班";var u;u="上班"+t.name+r,F(a({},n,{"duration":u}))}else{var d=A.map((function(e){return 2===e.id&&(e.name=t.name,e.click=!0,e.num=t.num),e}));O(d);for(var c=void 0,l=0;l<v.length;l++){if(v[l].click){c=3==v[l].id?"休息":"上班"+v[l].name;break}c="休息"}var s;s=c+"加班"+t.name,F(a({},n,{"duration":s}))}Se(!1),ge(!0)},"addWorkArr":A,"timeArr":v,"handleWorkOvertimeOk":function handleWorkOvertimeOk(){var e=v.filter((function(e){return e.click})),t=A.filter((function(e){return e.click})),n=void 0;if((e||t)&&(e.length>0&&(n="休息"==e[0].name?e[0].name:"上班"+e[0].name),t.length>0&&(n="无加班"!==t[0].name?"加班"+t[0].name:t[0].name),e.length>0&&t.length>0&&("休息"==e[0].name&&"无加班"==t[0].name?n=e[0].name+t[0].name:("休息"==e[0].name&&(n="加班"+t[0].name),"无加班"==t[0].name&&(n="上班"+e[0].name+t[0].name),n="上班"+e[0].name+"加班"+t[0].name))),2===y){for(var o=JSON.parse(JSON.stringify(x)),r=JSON.parse(JSON.stringify(v)),u=JSON.parse(JSON.stringify(A)),d=o.money,c=o.work,l=o.addWork,s=o.day,f=0,p=0;p<r.length;p++)r[p].click&&(1!=r[p].id&&2!=r[p].id&&3!=r[p].id?f=1/c*r[p].num:1==r[p].id?f=c:2==r[p].id?f=c/2:3==r[p].id&&(f=0));for(var g=0,k=0;k<u.length;k++)u[k].click&&(g=u[k].num);var h=void 0;h=1===o.type?d/c*f+l*g:d/c*f+d/s*g;var S=0;S&&!Object.is(S,NaN)&&(S=h.toFixed(2));var b=JSON.parse(JSON.stringify(x)),w={"identity":y,"worktime_define":b.work,"overtime_type":b.type,"overtime_money":b.dayAddWork,"money":b.money,"overtime":b.day,"group_info":Tn};return(0,i.bkSetWorkerIdentityWageAction)(w).then((function(e){200!==e.code&&(0,m.default)(e.msg)})),F(a({},L,{"workersWages":S,"duration":n})),void ge(!1)}F(a({},L,{"duration":n})),ge(!1)},"company":U,"handleQuantities":function handleQuantities(e){var t=U.map((function(t){return t.id===e.id?(t.click=!t.click,t.click&&(Re(t.name),Je(!1))):t.click=!1,t}));D(t)},"unit":Me,"quantitiesDisplay":Pe,"setQuantitiesDisplay":Je,"borrowing":W,"setBorrowing":E,"handleRadioBorrowing":function handleRadioBorrowing(e){for(var t=JSON.parse(JSON.stringify(W.item)),n=0;n<t.length;n++)t[n].id===e.id&&(t[n].click=!0);E({"item":t})},"workerItem":le,"setWorkerItem":se,"handleEstablish":function handleEstablish(e){var t=JSON.parse(JSON.stringify(L));if((0,p.isPhone)(L.phone)){var n={"name":t.userName,"tel":t.phone};(0,i.bkAddWorkerActiion)(n).then((function(e){if(200===e.code){var t=e.data;xa("",1,t),Ie(!1)}else(0,m.default)(e.msg)}))}else(0,m.default)("请输入正确的手机号")},"addMemberDisplay":Ce,"setAddMemberDisplay":Ie,"handleDel":function handleDel(e){var t=JSON.parse(JSON.stringify(le));if(0===e){var n=t.map((function(e){return 1!=e.id&&(e.del=!0),e}));se(n),kt(!0)}else{var a=t.map((function(e){return 1!=e.id&&(e.del=!1),e}));se(a),kt(!1)}},"handleDelList":function handleDelList(e){r.default.getStorageSync(u.MidData).worker_id!==e.id?r.default.showModal({"title":"温馨提示","content":"删除工人后，工人将不在此项目中，但他之前的记工数据不会受影响。确定要删除吗？","showCancel":!0,"success":function success(n){if(1==n.confirm){var a={"ids":e.id,"group_info":Tn};(0,i.bkDeleteRroupWorkerAction)(a).then((function(n){if(200===n.code){var a=JSON.parse(JSON.stringify(le));a.map((function(t,n){return t.id===e.id&&a.splice(n,1),t})),se(a),t((0,f.setPhoneList)(a))}else(0,m.default)(n.msg)}))}}}):(0,m.default)("不能删除自己")},"delType":yt,"setDeldelType":kt,"handleAddStandard":function handleAddStandard(){Rn(1),bt(!1),Ot(!0)},"wagesModalDisplay":vt,"setWagesModalDisplay":bt,"wageStandardDisplay":At,"setWageStandardDisplay":Ot,"wageStandard":x,"handleWageStandard":function handleWageStandard(e,t){if("day"==e){var n=JSON.parse(JSON.stringify(x));n[e]=t;var a=0;return n.money>0&&t>0&&(a=(n.money/t).toFixed(2)),n.dayAddWork=a,void j(n)}if("money"===e){var o=JSON.parse(JSON.stringify(x)),r=void 0;return r=0==o.day?0:t/o.day||0,o[e]=t,o.dayAddWork=r.toFixed(2)||0,void j(o)}var i=JSON.parse(JSON.stringify(x));i[e]=t,j(i)},"handlePreservation":function handlePreservation(n){var a=JSON.parse(JSON.stringify(x)),o=JSON.parse(JSON.stringify(L)),d=JSON.parse(JSON.stringify(le)),l=0,s=0;v.map((function(e){e.click&&e.num&&(4!==e.id?(l=e.num,s=a.work*e.num):(l=1/a.work*e.num,s=e.num))}));var f=0;A.map((function(e){e.click&&e.num&&(f=e.num)}));var p="";W.item.map((function(e){e.click&&(p=e.id)}));var g=void 0;U.map((function(e){e.click&&(g=e.name)}));var k=JSON.parse(JSON.stringify(Pn)),h=k.map((function(e){return e.year+"-"+e.month+"-"+e.date})),S=void 0;dt.item.map((function(e){e.click&&(S=e)}));var w=[];if(1===y)for(var _=0;_<le.length;_++)le[_].click&&w.push(le[_].id);else if(ne.length>0)for(var T=0;T<ne.length;T++)w.push(ne[T].id);if(2===y){var N=r.default.getStorageSync(u.MidData);w=N.worker_id}var D=He.item.map((function(e){return e.url})),M={};if(1==S.id)M={"business_type":S.id,"group_info":Tn,"work_time":l,"identity":y,"img_url":D,"note":o.details,"time":h,"workers":w,"overtime":f,"money":o.workersWages,"work_time_hour":s};else if(2==S.id){for(var R=void 0,E=0;E<et.item.length;E++)et.item[E].click&&(R=et.item[E].id);M=1===R?{"business_type":S.id,"group_info":Tn,"work_time":l,"identity":y,"img_url":D,"note":o.details,"time":h,"workers":w,"type":2,"unit":g,"unit_num":o.amount,"unit_price":o.price,"money":o.wages,"work_time_hour":s}:{"business_type":S.id,"group_info":Tn,"identity":y,"img_url":D,"note":o.details,"time":h,"workers":w,"type":1,"money":"","work_time":l,"overtime":f,"work_time_hour":s}}else 3===S.id&&(M={"business_type":S.id,"group_info":Tn,"work_time":l,"identity":y,"img_url":D,"note":o.details,"time":o.time,"workers":w,"type":p,"money":o.borrowing,"work_time_hour":s});var P=JSON.parse(JSON.stringify(ie));if(2===y){if(!P)return void(0,m.default)("请选择班组长");if(!h)return void(0,m.default)("请选择日期")}if(2===y)if(0===Ut.length){(0,i.bkAddProjectTeamAction)({"group_name":"其他项目","team_name":"其他班组"}).then((function(o){if(200===o.code){var l={"identity":y,"worktime_define":a.work,"overtime_type":a.type,"overtime_money":a.dayAddWork,"money":a.money,"overtime":a.day,"group_info":o.data};(0,i.bkSetWorkerIdentityWageAction)(l).then((function(a){if(200===a.code){M.group_info=o.data;var l=e.workerList,s=l[0].id;M.group_leader=s,(0,i.bkAddBusinessAction)(M).then((function(e){if(200===e.code){if(1===n){(0,m.default)("保存成功");for(var a={"groupName":"","teamName":"","name":l.name,"time":"","details":"","duration":"","amount":"","price":"","wages":"","borrowing":"","univalent":"","userName":"","phone":"","workersWages":"0"},i=JSON.parse(JSON.stringify(na)),s=0;s<i.length;s++)i[s].click=!1;for(var f=0;f<d.length;f++)d[f].click=!1;se(d),O([{"id":1,"name":"无加班","click":!1,"num":0},{"id":2,"name":"0.0小时","click":!1,"num":0}]),Jn([]),aa(i),b([{"id":1,"name":"一个工","click":!1,"num":1,"whole":!0},{"id":2,"name":"半个工","click":!1,"num":.5,"whole":!0},{"id":3,"name":"休息","click":!1,"num":0},{"id":4,"name":"0.0小时","click":!1,"num":0}]),ue(""),Ve({"item":[]}),F(a),$n(!0)}else B(!0);r.default.setStorageSync(u.Calendar,k),Ga(w),$n(!0),t((0,c.setWorker)([]))}else(0,m.default)(o.msg)}))}}))}else(0,m.default)(o.msg)}))}else{if(3!==Y&&(2!=Y||1!=Qe)){if(0===a.work)return void(0,m.default)("上班标准必须必须大于0");if(0===a.money)return void(0,m.default)("每个工工钱必须大于0");if(2===a.type&&0===a.day)return void(0,m.default)("一个工必须大于0小时");if(1===a.type&&0===a.addWork)return void(0,m.default)("每小时加班金额必须大于0")}if(3==Y||2==Y&&1==Qe)return void(0,i.bkAddBusinessAction)(M).then((function(e){if(200===e.code){if(1===n){(0,m.default)("保存成功");for(var a={"groupName":"","teamName":"","name":o.name,"time":"","details":"","duration":"","amount":"","price":"","wages":"","borrowing":"","univalent":"","userName":"","phone":"","workersWages":"0"},i=JSON.parse(JSON.stringify(na)),l=0;l<i.length;l++)i[l].click=!1;for(var s=0;s<d.length;s++)d[s].click=!1;se(d),O([{"id":1,"name":"无加班","click":!1,"num":0},{"id":2,"name":"0.0小时","click":!1,"num":0}]),Jn([]),aa(i),b([{"id":1,"name":"一个工","click":!1,"num":1,"whole":!0},{"id":2,"name":"半个工","click":!1,"num":.5,"whole":!0},{"id":3,"name":"休息","click":!1,"num":0},{"id":4,"name":"0.0小时","click":!1,"num":0}]),ue(""),Ve({"item":[]}),F(a),$n(!0)}else B(!0);r.default.setStorageSync(u.Calendar,k),Ga(w),$n(!0),t((0,c.setWorker)([]))}else(0,m.default)(e.msg)}));var J={"identity":y,"worktime_define":a.work,"overtime_type":a.type,"overtime_money":a.dayAddWork,"money":a.money,"overtime":a.day,"group_info":Tn};(0,i.bkSetWorkerIdentityWageAction)(J).then((function(a){if(200===a.code){var o=e.workerList,l=o[0].id;M.group_leader=l,(0,i.bkAddBusinessAction)(M).then((function(e){if(200===e.code){if(1===n){(0,m.default)("保存成功");for(var a={"groupName":"","teamName":"","name":o.name,"time":"","details":"","duration":"一个工无加班","amount":"","price":"","wages":"","borrowing":"","univalent":"","userName":"","phone":"","workersWages":"0"},i=JSON.parse(JSON.stringify(na)),l=0;l<i.length;l++)i[l].click=!1;for(var s=0;s<d.length;s++)d[s].click=!1;se(d),O([{"id":1,"name":"无加班","click":!1,"num":0},{"id":2,"name":"0.0小时","click":!1,"num":0}]),Jn([]),aa(i),b([{"id":1,"name":"一个工","click":!0,"num":1,"whole":!0},{"id":2,"name":"半个工","click":!1,"num":.5,"whole":!0},{"id":3,"name":"休息","click":!1,"num":0},{"id":4,"name":"0.0小时","click":!1,"num":0}]),ue(""),Ve({"item":[]}),F(a),$n(!0)}else B(!0);r.default.setStorageSync(u.Calendar,k),Ga(w),t((0,c.setWorker)([])),$n(!0)}else(0,m.default)(e.msg)}))}else(0,m.default)(a.msg)}))}else(0,i.bkAddBusinessAction)(M).then((function(e){if(200===e.code){if(1===n){(0,m.default)("保存成功");for(var a={"groupName":"","teamName":"","name":o.name,"time":"","details":"","duration":"","amount":"","price":"","wages":"","borrowing":"","univalent":"","userName":"","phone":"","workersWages":"0"},i=JSON.parse(JSON.stringify(na)),l=0;l<i.length;l++)i[l].click=!1;for(var s=0;s<d.length;s++)d[s].click=!1;se(d),O([{"id":1,"name":"无加班","click":!1,"num":0},{"id":2,"name":"0.0小时","click":!1,"num":0}]),Jn([]),aa(i),b([{"id":1,"name":"一个工","click":!1,"num":1,"whole":!0},{"id":2,"name":"半个工","click":!1,"num":.5,"whole":!0},{"id":3,"name":"休息","click":!1,"num":0},{"id":4,"name":"0.0小时","click":!1,"num":0}]),ue(""),Ve({"item":[]}),F(a),$n(!0)}else B(!0);r.default.setStorageSync(u.Calendar,k),Ga(w),$n(!0),t((0,c.setWorker)([]))}else(0,m.default)(e.msg)}))},"recorderTypeArr":dt,"setRecorderTypeArr":ct,"handleCalendar":function handleCalendar(e){},"projectArr":Ut,"handleProject":function handleProject(e){var t=JSON.parse(JSON.stringify(L)),n=JSON.parse(JSON.stringify(Ut));t.name=e.group_name+"-"+e.name;var a=e.group_id+","+e.id;2===y&&(e.leader_name?ue(e.leader_name):ue(""));for(var o=0;o<n.length;o++)e.id===n[o].id?n[o].click=!0:n[o].click=!1;Dt(n),rt(!1),F(t),Nn(a),xa(a,!0)},"show":ot,"setShow":rt,"workerList":$t,"setWorkerList":qt,"handleCheckbox":function handleCheckbox(e){var t=JSON.parse(JSON.stringify(It)),n=JSON.parse(JSON.stringify(le));0===t.length?t.push(e):-1===t.indexOf(e.id)?t.push(e.id):t.splice(t.indexOf(e.id),1),xt(t),n.push.apply(n,_toConsumableArray(t)),se(n)},"memberList":It,"setMemberList":xt,"storagelist":zt,"setStoragelist":Yt,"handleStart":function handleStart(){var e=JSON.parse(JSON.stringify(le)),n=JSON.parse(JSON.stringify(zt)),a=[];if(e&&n)for(var o=0;o<e.length;o++)for(var i=0;i<n.length;i++)e[o].name!=n[i].name&&a.push(n[i]);se([].concat(_toConsumableArray(e),a)),t((0,c.setWorker)([].concat(_toConsumableArray(e),a))),r.default.navigateBack({"delta":1})},"standard":Vt,"handleAddWage":function handleAddWage(){var e=JSON.parse(JSON.stringify(x)),t=JSON.parse(JSON.stringify(v)),n=JSON.parse(JSON.stringify(A)),o=e.money,r=e.work,u=e.addWork,d=e.day;if(0!==r)if(0!==o)if(2!==e.type||0!==e.day)if(1!==e.type||0!==e.addWork){for(var c=0,l=0;l<t.length;l++)t[l].click&&(1!=t[l].id&&2!=t[l].id&&3!=t[l].id?c=1/r*t[l].num:1==t[l].id?c=r:2==t[l].id?c=r/2:3==t[l].id&&(c=0));for(var s=0,f=0;f<n.length;f++)n[f].click&&(s=n[f].num);if(2==y){var p;p=(1===e.type?o/r*c+u*s:o/r*c+o/d*s).toFixed(2);var g=void 0;return g=1===e.type?{"identity":y,"worktime_define":e.work,"overtime_type":e.type,"overtime_money":e.addWork,"money":e.money,"overtime":e.day,"group_info":Tn}:{"identity":y,"worktime_define":e.work,"overtime_type":e.type,"overtime_money":e.dayAddWork,"money":e.money,"overtime":e.day,"group_info":Tn},(0,i.bkSetWorkerIdentityWageAction)(g).then((function(e){200!==e.code&&(0,m.default)(e.msg)})),F(a({},L,{"workersWages":p})),void Ot(!1)}if(1!==Mn)if(1===Jt){var k={"id":e.worker_id,"group_info":Tn,"worktime_define":e.work,"overtime_type":e.type,"overtime":e.day,"overtime_money":e.dayAddWork,"money":e.money,"type":"wage"};(0,i.bkUpdateWorkerAction)(k).then((function(e){200===e.code?(Ca(),bt(!0),Ot(!1)):(0,m.default)(e.msg)}))}else{var h=void 0;h=1==e.type?{"name":"","worktime_define":e.work,"overtime_type":e.type,"overtime_money":e.addWork,"money":e.money,"overtime":e.day,"id":e.id}:{"name":"","worktime_define":e.work,"overtime_type":e.type,"overtime_money":e.dayAddWork,"money":e.money,"overtime":e.day,"id":e.id},(0,i.bkupdateWageAction)(h).then((function(e){200===e.code?(Ia(),Ot(!1)):(0,m.default)(e.msg)}))}else{var S={"name":"","worktime_define":e.work,"overtime_type":e.type,"overtime_money":e.dayAddWork,"money":e.money,"overtime":e.day};(0,i.bkAddWageAction)(S).then((function(e){200===e.code?(Ia(),bt(!0)):(0,m.default)(e.msg)}))}}else(0,m.default)("每小时加班金额必须大于0");else(0,m.default)("一个工必须大于0小时");else(0,m.default)("每个工工钱必须大于0");else(0,m.default)("上班标准必须必须大于0")},"handleWageStandardRadio":function handleWageStandardRadio(e){var t=JSON.parse(JSON.stringify(x));t.type=e.id;var n=t.data.map((function(t){return e.id===t.id?t.click=!0:t.click=!1,t}));t.data=n,j(t)},"handleOpenWagesModal":ja,"moneyList":tn,"handleEditWages":function handleEditWages(e,t){Lt(t),Rn(0),Ot(!0),bt(!1);var n=JSON.parse(JSON.stringify(x));n.work=e.worktime_define,n.money=e.money,n.addWork=e.overtime_money,n.state=1,n.id=e.id,n.group_info=e.groupInfo,n.type=e.overtime_type,n.day=e.overtime,n.worker_id=e.worker_id;for(var a=0;a<n.data.length;a++)parseInt(e.overtime_type)==n.data[a].id?n.data[a].click=!0:n.data[a].click=!1;j(n)},"handleEditWageStandard":function handleEditWageStandard(){var e=JSON.parse(JSON.stringify(x)),t={"id":e.id,"group_info":Tn,"worktime_define":e.work,"overtime_type":e.type,"overtime":e.day,"overtime_money":e.dayAddWork,"money":e.money,"type":"wage"};(0,i.bkUpdateWorkerAction)(t).then((function(e){200===e.code?(Ca(),bt(!0),Ot(!1)):(0,m.default)(e.msg)}))},"tab":rn,"handleAtSwitch":function handleAtSwitch(e){un(0===e?1:0)},"handleDelProject":function handleDelProject(e){var t={"ids":e.id},n=(JSON.parse(JSON.stringify(ie)),JSON.parse(JSON.stringify(L)));r.default.showModal({"title":"提示","content":"确认删除","showCancel":!0,"success":function success(o){1==o.confirm&&(0,i.bkDeleteprojectTeamAction)(t).then((function(t){200===t.code?(Fa(),e.group_name,n.name,ue(""),F(a({},L,{"name":""}))):(0,m.default)(t.msg)}))}})},"editProjectDisplay":ft,"setEditProjectDisplay":mt,"handleEditProject":function handleEditProject(){var e=JSON.parse(JSON.stringify(pn)),t={"group_info":e.group_info,"team_name":e.team_name,"group_name":e.group_name};(0,i.bkUpdateProjectTeamAction)(t).then((function(e){if(200===e.code)mt(!1),Fa();else if(400===e.code)return void(0,m.default)(e.msg)}))},"handleEditProjectModal":function handleEditProjectModal(e){mt(!0);var t=JSON.parse(JSON.stringify(pn));t.group_info=e.group_id+","+e.id,t.team_name=e.name,t.group_name=e.group_name,gn(t)},"editProjectData":pn,"handleEditProjectData":function handleEditProjectData(e,t){var n=JSON.parse(JSON.stringify(pn));n[e]=t.detail.value,gn(n)},"handleSetWagesModal":function handleSetWagesModal(){if(hn){for(var e=[],t=0;t<wn.length;t++)wn[t].click&&e.push(wn[t].id);var n={"worker_ids":e.toString(),"wage_id":hn,"group_info":Tn};(0,i.bkSetWorkerMoneyByWageAction)(n).then((function(t){if(200===t.code){for(var n=JSON.parse(JSON.stringify(le)),a=0;a<n.length;a++)for(var o=0;o<e.length;o++)n[a].id==e[o]&&(n[a].set=!0,n[a].del=!1);se(n),Ca(),bt(!1)}else(0,m.default)(t.msg)}))}else(0,m.default)("请选择模板")},"handleWagesList":function handleWagesList(e){for(var t=JSON.parse(JSON.stringify(wn)),n=0;n<t.length;n++)e.id===t[n].id&&(t[n].click=!t[n].click);for(var a=[],o=0;o<t.length;o++)t[o].click&&a.push(t[o]);In(a.length),_n(t)},"setWorkList":wn,"setSetWorkList":_n,"handleCheckboxStandard":function handleCheckboxStandard(e){for(var t=JSON.parse(JSON.stringify(Vt)),n=0;n<t.length;n++)e.id===t[n].id?(t[n].click=!0,Sn(e.id)):t[n].click=!1;Zt(t)},"groupInfo":Tn,"image":He,"setImage":Ve,"bkGetWorker":xa,"contractorArr":et,"setContractorArr":tt,"num":Z,"handleWorkerItem":function handleWorkerItem(e){if(console.log(e,"231231"),!yt)if(JSON.parse(JSON.stringify(L)).name){var t=JSON.parse(JSON.stringify(le)),n=JSON.parse(JSON.stringify(Qe));if(3===Y||2===Y&&1===n){for(var a=0;a<t.length;a++)e.id===t[a].id&&(t[a].click=!t[a].click);for(var o=[],r=0;r<t.length;r++)t[r].click&&o.push(t[r]);sn(o.length),se(t)}else{for(var i=0;i<t.length;i++)e.id===t[i].id&&(e.set?t[i].click=!t[i].click:ja(e));for(var u=[],d=0;d<t.length;d++)t[d].click&&u.push(t[d]);sn(u.length),se(t)}}else(0,m.default)("请先选择项目")},"timeData":Pn,"setTimeData":Jn,"handleAllChange":function handleAllChange(){var e=JSON.parse(JSON.stringify(le)),t=JSON.parse(JSON.stringify(Y)),n=[];if(3===t||2===t&&1==Qe)for(var a=0;a<e.length;a++)n.push(e[a]),e[a].click=!0;else for(var o=0;o<e.length;o++)e[o].set?(n.push(e[o]),e[o].click=!0):(0,m.default)("还有人未设置工资标准");se(e),sn(n.length)},"clickNum":ln,"clickModalNum":Cn,"setClickModalNum":In,"refresh":Gn,"setRefresh":$n,"handleLongClick":function handleLongClick(){Ot(!0)},"identity":y,"setIdentity":k,"foreman":ne,"foremanTitle":ie,"handleAllClick":function handleAllClick(){var e=JSON.parse(JSON.stringify(wn));if(Ma){for(var t=0;t<e.length;t++)e[t].click=!1;Ra(!1),In(0)}else{for(var n=0;n<e.length;n++)e[n].click=!0;Ra(!0),In(e.length)}_n(e)},"setContractor":ze,"handleRadio":function handleRadio(e){for(var t=JSON.parse(JSON.stringify(et.item)),n=0;n<t.length;n++)t[n].id===e.id?(t[n].click=!0,ze(e.id)):t[n].click=!1;tt({"item":t})},"contractor":Qe,"handleAdd":function handleAdd(){L.name?(xa(),function userRouteJump(e){r.default.navigateTo({"url":e})}("/pages/addTeamMember/index?groupInfo="+Tn)):(0,m.default)("请选择项目")},"recorderType":Y,"setRecorderType":K,"calendarDays":na,"setCalendarDays":aa,"clickData":ia,"setClickData":ua,"handleClickCalendar":function handleClickCalendar(e){var t=e.year+"-"+Wa(e.month)+"-"+Wa(e.date),n=new Date(t).valueOf();if((new Date).valueOf()<n)(0,m.default)("请设置今天之前的日期");else for(var a=JSON.parse(JSON.stringify(ia)),o=JSON.parse(JSON.stringify(na)),r=(JSON.parse(JSON.stringify(Ta)),JSON.parse(JSON.stringify(la)),JSON.parse(JSON.stringify(ma)),0);r<o.length;r++){if(e.date==o[r].date&&e.month==o[r].month&&e.year==o[r].year&&!e.up&&!e.next){if(a.length>30){if(!o[r].click)return void(0,m.default)("最多选择31天");o[r].click=!o[r].click;var i=[];if(console.log(o[r],"calendarDaysArr[i]"),console.log(o[r].click,"calendarDaysArr[i].click"),o[r].click)console.log([].concat(_toConsumableArray(a),[o[r]]),"[...clickDataItem, calendarDaysArr[i]];"),i=[].concat(_toConsumableArray(a),[o[r]]);else{for(var u=0;u<a.length;u++)a[u].date==o[r].date&&a[u].month==o[r].month&&a[u].year==o[r].year&&a.splice(u,1);i=[].concat(_toConsumableArray(a))}console.log(i,"data"),ua(i)}else{o[r].click=!o[r].click;var d=[];if(console.log(o[r],"calendarDaysArr[i]"),console.log(o[r].click,"calendarDaysArr[i].click"),o[r].click)console.log([].concat(_toConsumableArray(a),[o[r]]),"[...clickDataItem, calendarDaysArr[i]];"),d=[].concat(_toConsumableArray(a),[o[r]]);else{for(var c=0;c<a.length;c++)a[c].date==o[r].date&&a[c].month==o[r].month&&a[c].year==o[r].year&&a.splice(c,1);d=[].concat(_toConsumableArray(a))}console.log(d,"data"),ua(d)}for(var l=[],s=0;s<o.length;s++)o[s].click&&l.push(o[s]);return void aa(o)}if(e.up){var f=new Date(o[r].year,o[r].month-1,o[r].date);return void Ea(f)}if(e.next){var p=new Date(o[r].year,o[r].month+1,o[r].date);return void Ea(p)}}},"time":wa,"getMonthDaysCurrent":Ea,"arr":la,"handleCalendarClose":function handleCalendarClose(){JSON.parse(JSON.stringify(ia));for(var e=JSON.parse(JSON.stringify(ma)),t=JSON.parse(JSON.stringify(na)),n=0;n<t.length;n++)for(var o=0;o<e.length;o++)e[o].date==t[n].date&&e[o].month==t[n].month&&e[o].year==t[n].year&&(t[n].click=!0);aa(t);var r=void 0;if(1==e.length){var i=(new Date).getFullYear(),u=(new Date).getMonth()+1,d=(new Date).getDate();r=e[0].year==i&&e[0].month==u&&e[0].date==d?i+"-"+u+"-"+d:e[0].year+"-"+e[0].month+"-"+e[0].date}else r=e.length+"天";F(a({},L,{"time":r})),Xn(!1)},"handleChangeTime":function handleChangeTime(e){if(0===e){var t=new Date(JSON.parse(wa.year),JSON.parse(wa.monent)-2,1);return Ea(t),void console.log(ia,"切换日期")}var n=new Date(JSON.parse(wa.year),JSON.parse(wa.monent),1);Ea(n)},"handleCalendarSub":function handleCalendarSub(){var e=JSON.parse(JSON.stringify(ia)),t=void 0;if(1==e.length){var n=(new Date).getFullYear(),o=(new Date).getMonth()+1,r=(new Date).getDate();t=e[0].year==n&&e[0].month==o&&e[0].date==r?n+"-"+o+"-"+r:e[0].year+"-"+e[0].month+"-"+e[0].date}else t=e.length+"天";F(a({},L,{"time":t})),pa(e),Jn(e),Xn(!1),console.log(e,"datadadsa")},"calendarModalDisplay":Zn,"setCalendarModalDisplay":Xn,"onScrollToUpper":function onScrollToUpper(){var e=new Date(JSON.parse(wa.year),JSON.parse(wa.monent),1);Ea(e)},"onScrollToLower":function onScrollToLower(){var e=new Date(JSON.parse(wa.year),JSON.parse(wa.monent)-2,1);Ea(e)},"onTouchEnd":function onTouchEnd(e){var t=e.timeStamp;Qn(t)},"onTouchStart":function onTouchStart(e){var t=e.timeStamp;Kn(t)},"onLongPress":function onLongPress(){Ot(!0)},"display":q,"setDisplay":B}};var o=n(0),r=_interopRequireDefault(o),i=n(2),u=n(4),d=n(8),c=n(64),l=n(223),s=n(224),f=n(130),m=_interopRequireDefault(n(3)),p=n(131);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}},"13":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.default=function UploadImgAction(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.UPLOADIMGURL,t=e||r.UPLOADIMGURL;return new Promise((function(e){a.default.chooseImage({"count":1,"sizeType":["compressed"],"sourceType":["album","camera"],"success":function success(n){AppUploadImg(e,n,t)}})}))},t.CameraAndAlbum=function CameraAndAlbum(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.UPLOADIMGURL;return new Promise((function(t){a.default.showActionSheet({"itemList":["拍照","从相册中选择"]}).then((function(n){var o=n.tapIndex;a.default.chooseImage({"count":1,"sizeType":["compressed"],"sourceType":0===o?["camera"]:["album"],"success":function success(n){AppUploadImg(t,n,e)}})}))}))};var a=function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}(n(0)),o=n(4),r=n(6);function AppUploadImg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.UPLOADIMGURL,i=a.default.getStorageSync(o.UserInfo);a.default.showLoading({"title":"图片上传中"}),a.default.uploadFile({"url":n,"filePath":t.tempFilePaths[0],"header":{"userid":i?i.userId:""},"name":"file","success":function success(t){var n=JSON.parse(t.data);a.default.showToast({"title":n.errmsg,"icon":"none","duration":2e3}),"ok"==n.errcode&&e(n)},"fail":function fail(){a.default.showToast({"title":"网络错误，上传失败！","icon":"none","duration":2e3})},"complete":function complete(){a.default.hideLoading()}})}},"130":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.setPhoneList=function setPhoneList(e){return{"type":a.SETPHINELIST,"data":e}},t.getPhoneList=function getPhoneList(){return{"type":getPhoneList}};var a=n(116)},"131":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.isPhone=function isPhone(e){return/^1[0-9]{10}$/.test(e)},t.isNumber=isNumber,t.isVaildNumber=function isVaildNumber(e){var t=e.num,n=e.min,a=void 0===n?0:n,o=e.max,r=void 0===o?10:o;return!!isNumber(t)&&(t>=a&&t<=r)},t.randIntNumber=function randIntNumber(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return Math.floor(Math.random()*(t-e))+e},t.getRandNumber=function getRandNumber(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return e+Math.random()*(t-e)},t.isUrl=function isUrl(e){return/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/.test(e)},t.isRequire=function isRequire(e){var t=e.replace(/\s+/g,"");return""!=t&&null!=t&&null!=t&&"null"!=t&&null!=t},t.isVaildVal=function isVaildVal(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=new RegExp("[\\u4E00-\\u9FFF]+");return n?a.test(e)&&e.length>=t&&e.length<=n:a.test(e)&&e.length>=t},t.isIdcard=function isIdcard(e){return/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e)},t.isType=function isType(e,t){var n=Object.prototype.toString.call(e).slice(8,-1).toLowerCase();return t?n==t:n},t.isIos=function isIos(){return"ios"===a.default.getSystemInfoSync().platform};var a=function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}(n(0));function isNumber(e){return/^[0-9]+$/.test(e)}},"187":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.jumpBindTelUrl=t.appletJumpUrl=t.shareExcelUrl=t.bkgetLastGroupInfoUrl=t.bkSetWorkerIdentityWageUrl=t.bkUpdateBusinessNewUrl=t.bkSetGroupLeaderUrl=t.bkGetCodeUrl=t.bkGetShareExcelDataUrl=t.bkAddWorkerInGroupUrl=t.updateBusinessUrl=t.bkBusinessOneUrl=t.bkupdateWageUrl=t.bkSetWorkerMoneyByWageUrl=t.bkUpdateProjectTeamUrl=t.bkDeleteprojectTeamUrl=t.bkUpdateWorkerUrl=t.bkDeleteBusinessUrl=t.bkGetWorkerWageUrl=t.bkAddWageUrl=t.bkWageStandGetWageUrl=t.bkAddBusinessUrl=t.bkShareExcelurl=t.bkgetExcelDataUrl=t.bkDeleteRroupWorkerUrl=t.bkGetWorkerUrl=t.bkAddWorkerUrl=t.bkAddProjectTeamUrl=t.bkGetProjectTeamUrl=t.bkBusinessUrl=t.bkUpdateNotePadUrl=t.bkDeleteNotePadUrl=t.bkGetNotePadUrl=t.bkAddNotepadUrl=t.bkAddFeedbackUrl=t.bkMemberAuthUrl=t.bkIndexUrl=t.GetUserInfo=t.GetUserSessionKey=t.jobRecommendListUrl=void 0;var a=n(6);t.jobRecommendListUrl=a.REQUESTURL+"/job/job-recommend-list/",t.GetUserSessionKey=a.REQUESTURL+"user/user-info/",t.GetUserInfo=a.REQUESTURL+"bk-member/member-auth/",t.bkIndexUrl=a.REQUESTURL+"bk-index/index/",t.bkMemberAuthUrl=a.REQUESTURL+"/bk-member/auth/",t.bkAddFeedbackUrl=a.REQUESTURL+"bk-feedback/add-feedback/",t.bkAddNotepadUrl=a.REQUESTURL+"/bk-notepad/add-notepad/",t.bkGetNotePadUrl=a.REQUESTURL+"bk-notepad/get-note-pad/",t.bkDeleteNotePadUrl=a.REQUESTURL+"bk-notepad/delete-note-pad/",t.bkUpdateNotePadUrl=a.REQUESTURL+"/bk-notepad/update-note-pad/",t.bkBusinessUrl=a.REQUESTURL+"/bk-bookkeeping/get-bk-business/",t.bkGetProjectTeamUrl=a.REQUESTURL+"bk-project-team/get-project-team/",t.bkAddProjectTeamUrl=a.REQUESTURL+"/bk-project-team/add-project-team/",t.bkAddWorkerUrl=a.REQUESTURL+"/bk-worker/add-worker/",t.bkGetWorkerUrl=a.REQUESTURL+"bk-worker/get-workers/",t.bkDeleteRroupWorkerUrl=a.REQUESTURL+"/bk-worker/delete-group-worker/",t.bkgetExcelDataUrl=a.REQUESTURL+"/bk-bookkeeping/get-excel-data/",t.bkShareExcelurl=a.REQUESTURL+"/bk-bookkeeping/share-excel/",t.bkAddBusinessUrl=a.REQUESTURL+"bk-bookkeeping/add-business/",t.bkWageStandGetWageUrl=a.REQUESTURL+"bk-wage-stand/get-wage/",t.bkAddWageUrl=a.REQUESTURL+"bk-wage-stand/add-wage/",t.bkGetWorkerWageUrl=a.REQUESTURL+"bk-worker/get-worker-wage/",t.bkDeleteBusinessUrl=a.REQUESTURL+"bk-bookkeeping/delete-business/",t.bkUpdateWorkerUrl=a.REQUESTURL+"bk-worker/update-worker/",t.bkDeleteprojectTeamUrl=a.REQUESTURL+"bk-project-team/delete-project-team/",t.bkUpdateProjectTeamUrl=a.REQUESTURL+"bk-project-team/update-project-team/",t.bkSetWorkerMoneyByWageUrl=a.REQUESTURL+"/bk-worker/set-worker-money-by-wage/",t.bkupdateWageUrl=a.REQUESTURL+"bk-wage-stand/update-wage/",t.bkBusinessOneUrl=a.REQUESTURL+"bk-bookkeeping/get-bk-business-one/",t.updateBusinessUrl=a.REQUESTURL+"/bk-bookkeeping/update-business/",t.bkAddWorkerInGroupUrl=a.REQUESTURL+"/bk-worker/add-worker-in-group/",t.bkGetShareExcelDataUrl=a.REQUESTURL+"/bk-bookkeeping/get-share-excel-data",t.bkGetCodeUrl=a.REQUESTURL+"bk-index/get-code/",t.bkSetGroupLeaderUrl=a.REQUESTURL+"/bk-project-team/set-group-leader/",t.bkUpdateBusinessNewUrl=a.REQUESTURL+"/bk-bookkeeping/update-business-new/",t.bkSetWorkerIdentityWageUrl=a.REQUESTURL+"bk-worker/set-worker-identity-wage/",t.bkgetLastGroupInfoUrl=a.REQUESTURL+"bk-project-team/get-last-group-info/",t.shareExcelUrl=a.REQUESTURL+"bk-bookkeeping/share-excel/",t.appletJumpUrl=a.REQUESTURL+"bk-member/applet-jump/",t.jumpBindTelUrl=a.REQUESTURL+"bk-member/applet-jump-bind-tel/"},"196":function(e,t,n){"use strict";n.r(t);n(197);var a=n(67);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o)},"197":function(e,t,n){"use strict";n(121)},"198":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.setNotepad=function setNotepad(e){return{"type":a.SET,"data":e}},t.getNotepad=function getNotepad(){return{"type":a.GET}};var a=n(62)},"199":function(e,t,n){},"2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.doRequestAction=doRequestAction,t.resumesComplainAction=function resumesComplainAction(e){return doRequestAction({"url":u.jobRecommendListUrl,"data":e})},t.getUserSessionKeyAction=function getUserSessionKeyAction(e){return doRequestAction({"url":u.GetUserSessionKey+"?code="+e+"&wechat_token=jigong","method":"POST","data":{"code":e}})},t.GetUserInfoAction=function GetUserInfoAction(e){return doRequestAction({"url":u.GetUserInfo,"data":e})},t.bkIndexAction=function bkIndexAction(e){var t=o.default.getStorageSync(i.Type);e.identity=t;var n=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkIndexUrl,"header":{"content-type":"application/json","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkMemberAuthAction=function bkMemberAuthAction(e){var t=o.default.getStorageSync(i.UserInfo);return console.log(t,"midData"),doRequestAction({"url":u.bkMemberAuthUrl,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":t.userId,"token":t.token,"time":t.tokenTime,"uuid":t.uuid},"data":e})},t.bkAddFeedbackAction=function bkAddFeedbackAction(e){var t=o.default.getStorageSync(i.Type),n=o.default.getStorageSync(i.MidData);return e.identity=t,doRequestAction({"url":u.bkAddFeedbackUrl,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkAddNotepadAction=function bkAddNotepadAction(e){var t=o.default.getStorageSync(i.Type);e.identity=t;var n=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkAddNotepadUrl,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkGetNotePadAction=function bkGetNotePadAction(e){var t=o.default.getStorageSync(i.Type),n=o.default.getStorageSync(i.MidData);return e.identity=t,doRequestAction({"url":u.bkGetNotePadUrl,"header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkDeleteNotePadAction=function bkDeleteNotePadAction(e){var t=e.id,n=(o.default.getStorageSync(i.UserInfo),o.default.getStorageSync(i.Type));e.identity=n;var a=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkDeleteNotePadUrl+"?ids="+t,"method":"POST","header":{"content-type":"application/json","mid":a.yupao_id,"token":a.sign.token,"time":a.sign.time,"uuid":a.uuid},"data":e})},t.bkUpdateNotePadAction=function bkUpdateNotePadAction(e){var t=e.id,n=o.default.getStorageSync(i.Type),a=o.default.getStorageSync(i.MidData);return e.identity=n,doRequestAction({"url":u.bkUpdateNotePadUrl+"?id="+t,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":a.yupao_id,"token":a.sign.token,"time":a.sign.time,"uuid":a.uuid},"data":e})},t.bkBusinessAction=function bkBusinessAction(e){o.default.getStorageSync(i.UserInfo);var t=o.default.getStorageSync(i.Type),n=o.default.getStorageSync(i.MidData);return e.identity=t,doRequestAction({"url":u.bkBusinessUrl,"header":{"content-type":"application/json","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkGetProjectTeamAction=function bkGetProjectTeamAction(e){var t=o.default.getStorageSync(i.Type);e.identity=t;var n=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkGetProjectTeamUrl,"header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkAddProjectTeamAction=function bkAddProjectTeamAction(e){var t=o.default.getStorageSync(i.Type);e.identity=t;var n=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkAddProjectTeamUrl,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkAddWorkerActiion=function bkAddWorkerActiion(e){var t=o.default.getStorageSync(i.Type);e.identity=t;var n=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkAddWorkerUrl,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkGetWorkerAction=function bkGetWorkerAction(e){var t=o.default.getStorageSync(i.Type);e.identity=t;var n=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkGetWorkerUrl,"header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkDeleteRroupWorkerAction=function bkDeleteRroupWorkerAction(e){var t=o.default.getStorageSync(i.Type);e.identity=t;var n=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkDeleteRroupWorkerUrl,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkgetExcelDataAction=function bkgetExcelDataAction(e){var t=o.default.getStorageSync(i.Type);e.identity=t;var n=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkgetExcelDataUrl,"header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkShareExcelAction=function bkShareExcelAction(e){var t=o.default.getStorageSync(i.Type),n=o.default.getStorageSync(i.MidData);return e.identity=t,doRequestAction({"url":u.bkShareExcelurl,"header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkAddBusinessAction=function bkAddBusinessAction(e){var t=o.default.getStorageSync(i.Type);e.identity=t;var n=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkAddBusinessUrl,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkWageStandGetWageAction=function bkWageStandGetWageAction(e){var t=o.default.getStorageSync(i.Type);e.identity=t;var n=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkWageStandGetWageUrl,"data":e,"header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid}})},t.bkAddWageAction=function bkAddWageAction(e){var t=o.default.getStorageSync(i.Type);e.identity=t;var n=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkAddWageUrl,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkGetWorkerWageAction=function bkGetWorkerWageAction(e){var t=o.default.getStorageSync(i.Type),n=o.default.getStorageSync(i.MidData);return e.identity=t,doRequestAction({"url":u.bkGetWorkerWageUrl,"header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkDeleteBusinessAction=function bkDeleteBusinessAction(e){var t=o.default.getStorageSync(i.Type);e.identity=t;var n=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkDeleteBusinessUrl,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkUpdateWorkerAction=function bkUpdateWorkerAction(e){var t=e.id,n=o.default.getStorageSync(i.MidData),a=o.default.getStorageSync(i.Type);return e.identity=a,doRequestAction({"url":u.bkUpdateWorkerUrl+"?id="+t,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkDeleteprojectTeamAction=function bkDeleteprojectTeamAction(e){var t=o.default.getStorageSync(i.Type);e.identity=t;var n=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkDeleteprojectTeamUrl,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkUpdateProjectTeamAction=function bkUpdateProjectTeamAction(e){var t=o.default.getStorageSync(i.Type),n=o.default.getStorageSync(i.MidData);return e.identity=t,doRequestAction({"url":u.bkUpdateProjectTeamUrl,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkSetWorkerMoneyByWageAction=function bkSetWorkerMoneyByWageAction(e){var t=o.default.getStorageSync(i.Type),n=o.default.getStorageSync(i.MidData);return e.identity=t,doRequestAction({"url":u.bkSetWorkerMoneyByWageUrl,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkupdateWageAction=function bkupdateWageAction(e){var t=e.id,n=o.default.getStorageSync(i.Type),a=o.default.getStorageSync(i.MidData);return e.identity=n,doRequestAction({"url":u.bkupdateWageUrl+"?id="+t,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":a.yupao_id,"token":a.sign.token,"time":a.sign.time,"uuid":a.uuid},"data":e})},t.bkBusinessOneAction=function bkBusinessOneAction(e){var t=e.id,n=o.default.getStorageSync(i.Type);e.identity=n;var a=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkBusinessOneUrl+"?id="+t,"header":{"content-type":"application/x-www-form-urlencoded","mid":a.yupao_id,"token":a.sign.token,"time":a.sign.time,"uuid":a.uuid},"data":e})},t.updateBusinessAction=function updateBusinessAction(e){var t=e.id,n=o.default.getStorageSync(i.MidData),a=o.default.getStorageSync(i.Type);return e.identity=a,doRequestAction({"url":u.updateBusinessUrl+"?id="+t,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkAddWorkerInGroupAction=function bkAddWorkerInGroupAction(e){var t=o.default.getStorageSync(i.Type),n=o.default.getStorageSync(i.MidData);return e.identity=t,doRequestAction({"url":u.bkAddWorkerInGroupUrl,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkGetShareExcelDataAction=function bkGetShareExcelDataAction(e){var t=o.default.getStorageSync(i.Type),n=o.default.getStorageSync(i.MidData);e.identity=t;var a=e.id;return doRequestAction({"url":u.bkGetShareExcelDataUrl+"/id="+a,"header":{"content-type":"application/x-www-form-urlencoded","mid":n.yupao_id,"token":n.sign.token,"time":n.sign.time,"uuid":n.uuid},"data":e})},t.bkGetCodeAction=function bkGetCodeAction(e){var t=o.default.getStorageSync(i.MidData);return console.log(t,"midDatamidData"),doRequestAction({"url":u.bkGetCodeUrl,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded"},"data":e})},t.bkSetGroupLeaderAction=function bkSetGroupLeaderAction(e){var t=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkSetGroupLeaderUrl,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":t.yupao_id,"token":t.sign.token,"time":t.sign.time,"uuid":t.uuid},"data":e})},t.bkUpdateBusinessNewAction=function bkUpdateBusinessNewAction(e){var t=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkUpdateBusinessNewUrl,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":t.yupao_id,"token":t.sign.token,"time":t.sign.time,"uuid":t.uuid},"data":e})},t.bkSetWorkerIdentityWageAction=function bkSetWorkerIdentityWageAction(e){var t=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkSetWorkerIdentityWageUrl,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":t.yupao_id,"token":t.sign.token,"time":t.sign.time,"uuid":t.uuid},"data":e})},t.bkgetLastGroupInfoAction=function bkgetLastGroupInfoAction(e){var t=o.default.getStorageSync(i.MidData);return doRequestAction({"url":u.bkgetLastGroupInfoUrl,"header":{"content-type":"application/x-www-form-urlencoded","mid":t.yupao_id,"token":t.sign.token,"time":t.sign.time,"uuid":t.uuid},"data":e})},t.appletJumpAction=function appletJumpAction(e){return doRequestAction({"url":u.appletJumpUrl,"header":{"content-type":"application/x-www-form-urlencoded","mid":e.userId,"token":e.token,"time":e.tokenTime},"data":e})},t.jumpBindTelAction=function jumpBindTelAction(e){var t=o.default.getStorageSync(i.UserInfo);return console.log(t,"21321321"),doRequestAction({"url":u.jumpBindTelUrl,"method":"POST","header":{"content-type":"application/x-www-form-urlencoded","mid":t.userId,"token":t.token,"time":t.tokenTime},"data":e})};var o=_interopRequireDefault(n(0)),r=_interopRequireDefault(n(3)),i=n(4),u=function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(187));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function requestShowToast(e){e&&setTimeout((function(){(0,r.default)("网络错误，请求失败")}),200)}var d={"url":"","method":"GET","header":function getRequestHeaderInfo(){var e=o.default.getStorageSync(i.UserInfo);return{"content-type":"application/x-www-form-urlencoded","mid":e.userId,"token":e.token,"time":e.tokenTime,"uuid":e.uuid}}(),"data":{},"loading":!0,"title":"数据加载中...","failToast":!0};function doRequestAction(e){var t=a({},d,e);t.loading&&o.default.showLoading({"title":t.title});var n=a({},t.data,{"wechat_token":"jigong"}),r=o.default.getStorageSync(i.UserInfo),u=o.default.getStorageSync(i.Type);return r&&("POST"===t.method&&r.login,n.userId=r.userId,n.token=r.token,n.tokenTime=r.tokenTime,n.identity=u),new Promise((function(e,a){o.default.request({"url":(/^http(s?):\/\//.test(t.url),t.url),"method":t.method,"header":t.header,"data":n,"success":function success(n){200===n.statusCode?e(n.data):(requestShowToast(t.failToast),a(n))},"fail":function fail(e){requestShowToast(t.failToast),a(e)},"complete":function complete(){t.loading&&o.default.hideLoading()}})}))}},"20":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.context=void 0;var a,o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],a=!0,o=!1,r=void 0;try{for(var i,u=e[Symbol.iterator]();!(a=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),u=n(0),d=_interopRequireDefault(u),c=n(4),l=n(2),s=_interopRequireDefault(n(3)),f=n(8),m=n(6),p=n(198);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(199);var g=t.context=(0,u.createContext)({}),y=(o=a=function(e){function Notepad(){var e,t,n;_classCallCheck(this,Notepad);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return t=n=_possibleConstructorReturn(this,(e=Notepad.__proto__||Object.getPrototypeOf(Notepad)).call.apply(e,[this].concat(o))),n.config={"navigationBarTitleText":"记事本"},n.$usedState=["loopArray44","$compid__50","data","isSheach","busy","del","IMGCDNURL","selectAll"],n.anonymousFunc3Map={},n.anonymousFunc4Map={},n.customComponents=["AtSearchBar"],_possibleConstructorReturn(n,t)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Notepad,e),i(Notepad,[{"key":"_constructor","value":function _constructor(e){(function get(e,t,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(n):void 0})(Notepad.prototype.__proto__||Object.getPrototypeOf(Notepad.prototype),"_constructor",this).call(this,e),this.$$refs=new d.default.RefsArray}},{"key":"_createData","value":function _createData(){var e=this;this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};var t=this.$prefix,n=(0,u.genCompid)(t+"$compid__50"),a=_slicedToArray(n,2),o=a[0],r=a[1],i=(0,f.useDispatch)(),y=(0,u.useState)(""),k=_slicedToArray(y,2),h=k[0],S=k[1],v=(0,u.useState)([]),b=_slicedToArray(v,2),w=b[0],_=b[1],A=(0,u.useState)(!1),O=_slicedToArray(A,2),T=O[0],N=O[1],U=(0,u.useState)(!1),D=_slicedToArray(U,2),M=D[0],R=(D[1],(0,u.useState)(!1)),W=_slicedToArray(R,2),E=W[0],P=W[1],J=(0,u.useState)(!1),L=_slicedToArray(J,2),F=L[0],C=L[1],I=(0,u.useState)([]),x=_slicedToArray(I,2),j=x[0],G=x[1];(0,u.useDidShow)((function(){G([]),P(!1),B(h)}));var $=function handleDel(){N(!0)},q=function handleClose(){var e=JSON.parse(JSON.stringify(w));e.map((function(e){return e.list.length>0&&e.list.map((function(e){return e.click=!1,e})),e})),N(!1),G([]),P(!1),_(e)},B=function getList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=d.default.getStorageSync(c.UserInfo),n={"mid":t.userId,"token":t.token,"time":t.tokenTime,"uuid":t.uuid,"key":e};(0,l.bkGetNotePadAction)(n).then((function(e){if(200===e.code){if(e.data.length>0)for(var t=0;t<e.data.length;t++){var n=new Date(e.data[t].day).getDay(),a=new Array("星期日","星期一","星期二","星期三","星期四","星期五","星期六")[n];e.data[t].week=a;var o=e.data[t].day.substring(0,4)+"年"+e.data[t].day.substring(5,7)+"月"+e.data[t].day.substring(8,11)+"日";e.data[t].time=o}else N(!1),P(!1);i((0,p.setNotepad)(e)),_(e.data)}}))},Q=function userRouteJump(e){d.default.navigateTo({"url":e})},z={"dataArr":w},Y=function handleCheckbox(e){console.log(e,"eeee");var t=JSON.parse(JSON.stringify(j));if(0===t.length){t.push(e.id);for(var n=0;n<w.length;n++)e.id===w[n].id&&(w[n].click=!0)}else if(-1===t.indexOf(e.id)){t.push(e.id);for(var a=0;a<w.length;a++)e.id===w[a].id&&(w[a].click=!0)}else{t.splice(t.indexOf(e.id),1);for(var o=0;o<w.length;o++)e.id===w[o].id&&(w[o].click=!1)}console.log(t,"222"),G(t)},K=function bkDeleteNotePad(){0!==j.length?d.default.showModal({"title":"提示","content":"删除后，当前信息将无法恢复，确定删除？","showCancel":!0,"success":function success(e){if(1==e.confirm){var t={"id":j};(0,l.bkDeleteNotePadAction)(t).then((function(e){200===e.code?((0,s.default)("删除成功"),setTimeout((function(){B()}),500)):(0,s.default)(e.msg)}))}}}):(0,s.default)("请选择至少一条信息")},H=function handleAllCheckbox(){var e=JSON.parse(JSON.stringify(w)),t=[];E?(t=[],e.map((function(e){return e.list.length>0&&e.list.map((function(e){return e.click=!1,e})),e})),P(!1)):(e.map((function(e){return e.list.length>0&&e.list.map((function(e){return e.click=!0,t.push(e.id),e})),e})),P(!0)),console.log(t),G(t),_(e)},V=function handleSeach(){B(h),P(!1),G([]),C(!0)};console.log(w,"data");var Z=function handleOnClear(){S(""),G([]),C(!1)};g.Provider(z),this.anonymousFunc0=Z,this.anonymousFunc1=function(e){return S(e)},this.anonymousFunc2=V,this.anonymousFunc5=function(){return Q("/pages/addNotepad/index")},this.anonymousFunc6=$,this.anonymousFunc7=H,this.anonymousFunc8=K,this.anonymousFunc9=q;var X=w.length>0&&!M?w.map((function(t,n){return t={"$original":(0,u.internal_get_original)(t)},{"$loopState__temp2":w.length>0&&!M?n+n:null,"$anonymousCallee__10":w.length>0&&!M?t.$original.list.map((function(t,a){t={"$original":(0,u.internal_get_original)(t)};var o=w.length>0&&!M?a+a:null,r="jjzzz"+n+"-"+a;e.anonymousFunc3Map[r]=function(){return Q("/pages/notepadDetails/index?id="+t.$original.id)};var i="baazz"+n+"-"+a;return e.anonymousFunc4Map[i]=function(e){e.stopPropagation(),Y(t.$original)},{"$loopState__temp4":o,"_$indexKey":r,"_$indexKey2":i,"$original":t.$original}})):[],"$original":t.$original}})):[];return u.propsManager.set({"showActionButton":!0,"value":h,"maxLength":10,"onClear":this.anonymousFunc0,"onChange":this.anonymousFunc1,"onActionClick":this.anonymousFunc2},r,o),Object.assign(this.__state,{"loopArray44":X,"$compid__50":r,"data":w,"isSheach":F,"busy":M,"del":T,"IMGCDNURL":m.IMGCDNURL,"selectAll":E}),this.__state}},{"key":"anonymousFunc0","value":function anonymousFunc0(e){}},{"key":"anonymousFunc1","value":function anonymousFunc1(e){}},{"key":"anonymousFunc2","value":function anonymousFunc2(e){}},{"key":"anonymousFunc3","value":function anonymousFunc3(e){for(var t,n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return this.anonymousFunc3Map[e]&&(t=this.anonymousFunc3Map)[e].apply(t,a)}},{"key":"anonymousFunc4","value":function anonymousFunc4(e){for(var t,n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return"object"===(void 0===a?"undefined":r(a))&&a.stopPropagation&&a.stopPropagation(),this.anonymousFunc4Map[e]&&(t=this.anonymousFunc4Map)[e].apply(t,a)}},{"key":"anonymousFunc5","value":function anonymousFunc5(e){}},{"key":"anonymousFunc6","value":function anonymousFunc6(e){}},{"key":"anonymousFunc7","value":function anonymousFunc7(e){}},{"key":"anonymousFunc8","value":function anonymousFunc8(e){}},{"key":"anonymousFunc9","value":function anonymousFunc9(e){}}]),Notepad}(d.default.Component),a.$$events=["anonymousFunc3","anonymousFunc4","anonymousFunc5","anonymousFunc6","anonymousFunc7","anonymousFunc8","anonymousFunc9"],a.$$componentPath="pages/notepad/index",o);y.config={"navigationBarTitleText":"记事本"},t.default=y,Component(n(0).default.createComponent(y,!0))},"213":function(e,t,n){"use strict";n.r(t);n(214);var a=n(72);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o)},"214":function(e,t,n){"use strict";n(126)},"215":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.setFlowingWater=function setFlowingWater(e){return{"type":a.SETDATA,"data":e}},t.getFlowingWater=function getFlowingWater(){return{"type":a.GETDATA}};var a=n(216)},"216":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});t.GETDATA="getData",t.SETDATA="setData"},"217":function(e,t,n){},"223":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.setmailList=function setmailList(e){return{"type":a.SETMAIILIST,"data":e}},t.getmailList=function getmailList(){return{"type":a.GETMAIILIST}};var a=n(113)},"224":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.setUserList=function setUserList(e){return{"type":a.SETUSERLIST,"data":e}},t.getUserList=function getUserList(){return{"type":a.GETUSERLSIT}};var a=n(115)},"25":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.context=void 0;var a,o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],a=!0,o=!1,r=void 0;try{for(var i,u=e[Symbol.iterator]();!(a=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),u=n(0),d=_interopRequireDefault(u),c=n(2),l=_interopRequireDefault(n(3)),s=n(8),f=n(6),m=n(4),p=n(215);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(217);var g=t.context=(0,u.createContext)({}),y=(o=a=function(e){function FlowingWater(){var e,t,n;_classCallCheck(this,FlowingWater);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return t=n=_possibleConstructorReturn(this,(e=FlowingWater.__proto__||Object.getPrototypeOf(FlowingWater)).call.apply(e,[this].concat(o))),n.config={"navigationBarTitleText":"记工流水"},n.$usedState=["data","loopArray45","IMGCDNURL","isCheckOut","allcheck","year","mon"],n.anonymousFunc1Map={},n.anonymousFunc2Map={},n.anonymousFunc3Map={},n.anonymousFunc4Map={},n.anonymousFunc5Map={},n.anonymousFunc6Map={},n.customComponents=["AtSwipeAction"],_possibleConstructorReturn(n,t)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(FlowingWater,e),i(FlowingWater,[{"key":"_constructor","value":function _constructor(e){(function get(e,t,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(n):void 0})(FlowingWater.prototype.__proto__||Object.getPrototypeOf(FlowingWater.prototype),"_constructor",this).call(this,e),this.$$refs=new d.default.RefsArray}},{"key":"_createData","value":function _createData(){var e=this;this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};var t=this.$prefix,n=(0,s.useDispatch)(),a=(0,u.useState)({"item":[]}),o=_slicedToArray(a,2),r=o[0],i=o[1],y=(0,u.useState)(),k=_slicedToArray(y,2),h=k[0],S=k[1],v=(0,u.useState)(),b=_slicedToArray(v,2),w=b[0],_=b[1],A=(0,u.useState)(),O=_slicedToArray(A,2),T=O[0],N=O[1],U=(0,u.useState)(),D=_slicedToArray(U,2),M=D[0],R=D[1],W=(0,u.useState)(!1),E=_slicedToArray(W,2),P=E[0],J=E[1],L=(0,u.useState)(!1),F=_slicedToArray(L,2),C=F[0],I=F[1];(0,u.useDidShow)((function(){var e=JSON.stringify(new Date).slice(1,11);N(e.slice(0,4)+"年"),R(e.slice(5,7)+"月");var t=e.slice(0,4)+"-"+e.slice(5,7);S(t);var n=JSON.stringify(new Date((new Date).setMonth((new Date).getMonth()+1))).slice(1,11);_(n),j(t,n)}));var x=d.default.getStorageSync(m.Type),j=function getList(e,t){var a={"identity":x,"start_date":e,"end_date":t};(0,c.bkBusinessAction)(a).then((function(e){if(200===e.code)if(console.log(e.data),e.data.data&&e.data.data.length>0){for(var t=0;t<e.data.data.length;t++){var a=e.data.data[t].time.slice(0,4)+"年"+e.data.data[t].time.slice(5,7)+"月",o=e.data.data[t].time.slice(8,10)+"日",r=new Array("周日","周一","周二","周三","周四","周五","周六")[new Date(e.data.data[t].time).getDay()];e.data.data[t].week=r,e.data.data[t].month=a,e.data.data[t].day=o}for(var u=new Date,d=u.getFullYear()+"-"+G(u.getMonth()+1)+"-"+G(u.getDate()),c=0;c<e.data.data.length;c++)e.data.data[c].time==d&&(e.data.data[c].click=!0);i({"item":e.data.data}),n((0,p.setFlowingWater)(e.data))}else i({"item":[]});else(0,l.default)(e.msg)}))},G=function addZero(e){return parseInt(e)<10&&(e="0"+e),e},$=function handleClick(e){var t=JSON.parse(JSON.stringify(r.item)).map((function(t){return t.time===e.time&&(t.click=!t.click),t}));i({"item":t})},q=function handleJump(e,t,n){e.stopPropagation(),d.default.navigateTo({"url":"/pages/flowingWaterDetails/index?time="+t.time+"&id="+n+"&week="+t.week})},B=function handleCheckbox(e){console.log(e,"val");for(var t=JSON.parse(JSON.stringify(r.item)),n=0;n<t.length;n++)for(var a=0;a<t[n].arr.length;a++)t[n].arr[a].id===e.id&&(t[n].arr[a].checkClick=!t[n].arr[a].checkClick);i({"item":t})},Q=function handleCheckboxBtn(e){J(0===e)},z=function userRouteJump(e){d.default.navigateTo({"url":e})},Y={"dataArr":r},K=function handleSwipeAction(e,t){var n={"ids":[t.id]};console.log(t,"vvvvv"),"删除"==e.text?d.default.showModal({"title":"提示","content":"确认删除","showCancel":!0,"success":function success(e){1==e.confirm&&(0,c.bkDeleteBusinessAction)(n).then((function(e){200===e.code?j(h,w):(0,l.default)(e.msg)}))}}):d.default.navigateTo({"url":"/pages/editDetails/index?id="+t.id})},H=function handelChangeTime(e){console.log(e),S(e.detail.value);var t=JSON.stringify(new Date(new Date(e.detail.value).setMonth(new Date(e.detail.value).getMonth()+1))).slice(1,11);_(t),N(e.detail.value.slice(0,4)+"年"),R(e.detail.value.slice(6,8)+"月"),j(e.detail.value,t)},V=function handleAllCheck(){if(console.log(C,"全选"),C){var e=JSON.parse(JSON.stringify(r.item)).map((function(e){return e.arr.map((function(e){return e.checkClick=!1,e})),e}));i({"item":e}),I(!1)}else{var t=JSON.parse(JSON.stringify(r.item)).map((function(e){return e.arr.map((function(e){return e.checkClick=!0,e})),e.click=!0,e}));console.log(t,"list"),i({"item":t}),I(!0)}},Z=function handleAllDel(){var e=JSON.parse(JSON.stringify(r.item));console.log(e,"xxx");for(var t=[],n=0;n<e.length;n++)for(var a=0;a<e[n].arr.length;a++)console.log(e[n].arr[a]),e[n].arr[a].checkClick&&(console.log(e[n].arr[a].checkClick),t.push(e[n].arr[a].id));var o={"ids":t};console.log(t),(0,c.bkDeleteBusinessAction)(o).then((function(e){200===e.code?j(h,w):(0,l.default)(e.msg)}))};console.log(r,"data"),g.Provider(Y),this.anonymousFunc0=function(e){return H(e)},this.anonymousFunc7=function(){return z("/pages/recorder/index")},this.anonymousFunc8=function(){return Q(0)},this.anonymousFunc9=V,this.anonymousFunc10=Z,this.anonymousFunc11=function(){return Q(1)};var X=r.item&&r.item.length>0?r.item.map((function(n,a){n={"$original":(0,u.internal_get_original)(n)};var o=r.item&&r.item.length>0?a+a:null,i="babzz"+a;return e.anonymousFunc1Map[i]=function(){return $(n.$original)},{"$loopState__temp2":o,"_$indexKey":i,"$loopState__temp4":r.item&&r.item.length>0?n.$original.total_borrow&&n.$original.total_borrow.toFixed(2):null,"$loopState__temp6":r.item&&r.item.length>0?n.$original.total_money&&n.$original.total_money.toFixed(2):null,"$anonymousCallee__11":n.$original.click?n.$original.arr.map((function(o,r){o={"$original":(0,u.internal_get_original)(o)};var i="baczz"+a+"-"+r;e.anonymousFunc2Map[i]=function(e){e.preventDefault(),e.stopPropagation()};var d="badzz"+a+"-"+r;e.anonymousFunc3Map[d]=function(e){e.preventDefault(),e.stopPropagation()};var c="baezz"+a+"-"+r;e.anonymousFunc4Map[c]=function(e){return K(e,o.$original)};var l=n.$original.click?[{"text":"修改","style":{"backgroundColor":"#FFC82C"}},{"text":"删除","style":{"backgroundColor":"#FF4949"}}]:null,s="bafzz"+a+"-"+r;e.anonymousFunc5Map[s]=function(e){return q(e,n.$original,o.$original.id)};var f="bagzz"+a+"-"+r;e.anonymousFunc6Map[f]=function(e){e.stopPropagation(),B(o.$original)};var m=(0,u.genCompid)(t+"bahzzzzzzz"+a+"-"+r,!0),p=_slicedToArray(m,2),g=p[0],y=p[1];return n.$original.click&&u.propsManager.set({"autoClose":!1,"onOpened":e.anonymousFunc3.bind(e,d),"onClick":e.anonymousFunc4.bind(e,c),"options":l},y,g),{"_$indexKey2":i,"_$indexKey3":d,"_$indexKey4":c,"$loopState__temp8":l,"_$indexKey5":s,"_$indexKey6":f,"$compid__51":y,"$original":o.$original}})):[],"$original":n.$original}})):[];return Object.assign(this.__state,{"data":r,"loopArray45":X,"IMGCDNURL":f.IMGCDNURL,"isCheckOut":P,"allcheck":C,"year":T,"mon":M}),this.__state}},{"key":"anonymousFunc0","value":function anonymousFunc0(e){}},{"key":"anonymousFunc1","value":function anonymousFunc1(e){for(var t,n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return this.anonymousFunc1Map[e]&&(t=this.anonymousFunc1Map)[e].apply(t,a)}},{"key":"anonymousFunc2","value":function anonymousFunc2(e){for(var t,n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return"object"===(void 0===a?"undefined":r(a))&&a.stopPropagation&&a.stopPropagation(),this.anonymousFunc2Map[e]&&(t=this.anonymousFunc2Map)[e].apply(t,a)}},{"key":"anonymousFunc3","value":function anonymousFunc3(e){for(var t,n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return"object"===(void 0===a?"undefined":r(a))&&a.stopPropagation&&a.stopPropagation(),this.anonymousFunc3Map[e]&&(t=this.anonymousFunc3Map)[e].apply(t,a)}},{"key":"anonymousFunc4","value":function anonymousFunc4(e){for(var t,n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return this.anonymousFunc4Map[e]&&(t=this.anonymousFunc4Map)[e].apply(t,a)}},{"key":"anonymousFunc5","value":function anonymousFunc5(e){for(var t,n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return this.anonymousFunc5Map[e]&&(t=this.anonymousFunc5Map)[e].apply(t,a)}},{"key":"anonymousFunc6","value":function anonymousFunc6(e){for(var t,n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return"object"===(void 0===a?"undefined":r(a))&&a.stopPropagation&&a.stopPropagation(),this.anonymousFunc6Map[e]&&(t=this.anonymousFunc6Map)[e].apply(t,a)}},{"key":"anonymousFunc7","value":function anonymousFunc7(e){}},{"key":"anonymousFunc8","value":function anonymousFunc8(e){}},{"key":"anonymousFunc9","value":function anonymousFunc9(e){}},{"key":"anonymousFunc10","value":function anonymousFunc10(e){}},{"key":"anonymousFunc11","value":function anonymousFunc11(e){}}]),FlowingWater}(d.default.Component),a.$$events=["anonymousFunc0","anonymousFunc1","anonymousFunc2","anonymousFunc5","anonymousFunc6","anonymousFunc7","anonymousFunc8","anonymousFunc9","anonymousFunc10","anonymousFunc11"],a.$$componentPath="pages/flowingWater/index",o);y.config={"navigationBarTitleText":"记工流水"},t.default=y,Component(n(0).default.createComponent(y,!0))},"3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.errMsg=function errMsg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";a.default.atMessage({"message":e,"type":"error"})},t.default=function Msg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;a.default.showToast({"title":e,"icon":"none","duration":t})},t.ShowActionModal=function ShowActionModal(e){var t=e.title,n=void 0===t?"温馨提示":t,o=e.confirmText,r=void 0===o?"确定":o,i=e.msg,u=e.success;a.default.showModal({"title":n,"content":"string"==typeof e?e:i,"showCancel":!1,"confirmText":r,"success":function success(){u&&u()}})},t.getdate=function getdate(e){var t=new Date(e);return t.getMonth()+1+"月"+t.getDate()+"日"},t.getTime=function getTime(e){var t=new Date(e),n=t.getFullYear()+(t.getMonth()+1)+t.getDate();return console.log(n,"11111"),n},t.timestampToTime=function timestampToTime(e){var t=new Date(parseInt(e));console.log(t,"31312321");var n=t.getFullYear()+"-",a=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",o=t.getDate()+" ",r=(t.getHours()>=10?t.getHours():"0"+t.getHours())+":",i=(t.getMinutes()>=10?t.getMinutes():"0"+t.getMinutes())+":",u=t.getSeconds()>=10?t.getSeconds():"0"+t.getSeconds();return n+a+o+r+i+u};var a=function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}(n(0))},"4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});t.UserInfo="userInfo",t.MidData="midData",t.Type="type",t.CreationTime="creationTime",t.NeverPrompt="neverPrompt",t.Calendar="calendar",t.User="user",t.RecordTime="recordTime"},"6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});var a=t.DEVREQUESTURL="https://miniapi.zhaogong.vrtbbs.com/";t.PROREQUESTURL="https://newyupaomini.54xiaoshuo.com/",t.REQUESTURL=a,t.UPLOADIMGURL="https://newyupaomini.54xiaoshuo.com/index/upload/",t.ALIYUNCDN="http://jgjz.oss-cn-beijing.aliyuncs.com",t.IMGCDNURL="http://jgjz.oss-cn-beijing.aliyuncs.com/mini/images/",t.SERVERPHONE="400-838-1888",t.PHONE="18586508374",t.VERSION="3.0.0",t.MAPKEY="20f12aae660c04de86f993d3eff590a0",t.IMAGE="userauth-icon.png"},"62":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});t.GET="get",t.SET="set"},"64":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.setWorker=function setWorker(e){return{"type":a.SETWORKERTYPE,"data":e}},t.getWorker=function getWorker(){return{"type":a.GETWORKERTYPE}};var a=n(111)},"67":function(e,t,n){"use strict";n.r(t);var a=n(20),o=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t.default=o.a},"72":function(e,t,n){"use strict";n.r(t);var a=n(25),o=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t.default=o.a}}]);